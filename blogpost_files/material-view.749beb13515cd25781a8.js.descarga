(()=>{var e,t={40675:(e,t,r)=>{"use strict";var n=r(67294),a=r(73935),o=r(14890),i=r(35369),l=r(53894),c=r(276),s=r(39543),u=r(26395),m=r(72739),d=r(70818),f="SET_CURRENT_TIME",p="UPDATE_NEW_BOOKMARK",y="SET_BOOKMARKS",b="ADD_BOOKMARK",h="UPDATE_BOOKMARK",v="DELETE_BOOKMARK",g="CLICK_ON_BOOKMARK",w="SET_CONTRIBUTIONS",E="ADD_CONTRIBUTIONS",k="DELETE_CONTRIBUTIONS",S="ADD_CONTRIBUTION",I="ADD_CONTRIBUTION_REPLY",N="SET_QUESTIONS",j="ADD_QUESTIONS",C="DELETE_QUESTIONS",T="ADD_QUESTION",O="ADD_QUESTION_REPLY",x="TOOGLE_LIKE",A="TOOGLE_PLAY_VIDEO",P="ADD_NUMBER_OF_CONTRIBUTIONS",M="SUBTRACT_NUMBER_OF_CONTRIBUTIONS",R="ADD_NUMBER_OF_QUESTIONS",_="SUBTRACT_NUMBER_OF_QUESTIONS",B="SET_PREVIEW",F="TOGGLE_SUGGESTIONS",L="ADD_SUGGESTIONS",V="QUESTION_FOR_SUGGESTIONS";function D(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q={contributions:{},questions:{},preview:"",isSuggestionsActive:!1,suggestions:{}},z=u.utils.mockReducer;const H=(0,m.U)({header:d.ew,contactInfo:z,videoPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case f:return e.set("currentTime",n);case p:return e.set("newBookmark",n);case y:return e.set("bookmarks",(0,i.fromJS)(n));case b:return e.set("bookmarks",e.get("bookmarks").unshift((0,i.fromJS)(n)));case h:var a=e.get("bookmarks").findIndex((function(e){return e.get("id")===n.id}));return e.setIn(["bookmarks",a],(0,i.fromJS)(n));case v:var o=e.get("bookmarks").findIndex((function(e){return e.get("id")===n}));return e.set("bookmarks",e.get("bookmarks").delete(o));case g:return e.set("onClickBookmark",n);case A:return e.set("playVideo",n);case P:var l=e.get("commentsNumber");return e.set("commentsNumber",l+1);case M:var c=e.get("commentsNumber");return e.set("commentsNumber",c-1);case R:var s=e.get("discussionsNumber");return e.set("discussionsNumber",s+1);case _:var u=e.get("discussionsNumber");return e.set("discussionsNumber",u-1);default:return e}},community:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case w:return e.set("contributions",n);case E:var a;return e.setIn(["contributions","cards"],(a=e.get("contributions").get("cards")).push.apply(a,D(n.cards)));case k:if(void 0===n.parentIndex)return e.setIn(["contributions","cards"],e.get("contributions").get("cards").delete(n.index));var o=e.get("contributions").get("cards").get(n.parentIndex).get("subcards").delete(n.index);return e.setIn(["contributions","cards",n.parentIndex,"subcards"],o);case N:return e.set("questions",n);case j:var i;return e.setIn(["questions","cards"],(i=e.get("questions").get("cards")).push.apply(i,D(n)));case C:if(void 0===n.parentIndex)return e.setIn(["questions","cards"],e.get("questions").get("cards").delete(n.index));var l=e.get("questions").get("cards").get(n.parentIndex).get("subcards").delete(n.index);return e.setIn(["questions","cards",n.parentIndex,"subcards"],l);case S:return e.setIn(["contributions","cards"],e.get("contributions").get("cards").unshift(n));case T:return e.setIn(["questions","cards"],e.get("questions").get("cards").unshift(n));case I:var c=e.get("contributions").get("cards").get(n.extraData.index).get("subcards").unshift(n.card);return e.setIn(["contributions","cards",n.extraData.index,"subcards"],c);case O:var s=e.get("questions").get("cards").get(n.extraData.index).get("subcards").unshift(n.card);return e.setIn(["questions","cards",n.extraData.index,"subcards"],s);case x:return void 0===n.parentIndex?e.setIn([n.type,"cards",n.index,"nLikes"],n.nLikes):e.setIn([n.type,"cards",n.parentIndex,"subcards",n.index,"nLikes"],n.nLikes);case B:return e.set("preview",n);case F:return e.set("isSuggestionsActive",n);case L:return e.set("suggestions",n);case V:return e.set("questionForSuggestions",n);default:return e}}});var $=r(45697),K=r.n($),J=r(66986),W=r(70249),G=function(e){return"/api/v4/material/syllabus-course/".concat(e,"/")},Y=function(e,t,r){return"/api/v4/material/files-links/".concat(e,"/").concat(t,"-").concat(r,"/")},Z={get:function(e,t,r){return"/api/v4/material/bookmarks/".concat(e,"/").concat(t,"-").concat(r,"/")},new:"/bookmarks/create/",delete:function(e){return"/bookmarks/".concat(e,"/delete/")},edit:function(e){return"/bookmarks/".concat(e,"/edit/")}},Q=function(e,t,r){return"/api/v4/material/recommendations/".concat(e,"/").concat(t,"-").concat(r,"/")},X=function(e){return"/api/v3/materials/".concat(e,"/subtitle-feedback/")},ee=function(e,t,r){return"/api/v4/material/error-report/".concat(e,"/").concat(t,"-").concat(r,"/")},te="/api/v4/progress/courses/get_progress_platzi_day/",re=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top";return"/api/v4/material/comments/".concat(e,"/").concat(t,"-").concat(r,"/?page=").concat(n,"&filter=").concat(a)},ne=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top";return"/api/v4/material/discussions/".concat(e,"/").concat(t,"-").concat(r,"/?page=").concat(n,"&filter=").concat(a)},ae="/upload_images/",oe=function(e){return"/api/v3/suggestions/answers/?question=".concat(e)},ie=function(e){return"/api/v2/stars-by-user/?comments=".concat(e)},le="/api/v1/tracking/",ce="sif",se=r(42324),ue=r(35216),me=r(26793),de=r(67814),fe=r(2825),pe=r(51436),ye=r(92565),be=r(94184),he=r.n(be),ve=r(77869),ge=r.n(ve),we=function(e){switch(e){case"html":case"css":case"py":case"js":case"jsx":case"o":case"c":case"php":case"php3":case"php4":case"R":case"cs":case"styl":case"scss":case"ts":case"sass":case"config":case"json":case"yaml":case"sh":case"asp":case"aspx":case"pl":case"rb":case"xml":case"gradle":case"gradlew":case"bat":case"java":return fe.w49;case"pdf":return fe.gSj;case"png":case"jpg":case"svg":case"gif":case"raw":case"psd":case"xcf":case"tiff":case"tif":case"bmp":case"jpeg":case"eps":return fe.Oi0;case"webm":case"mkv":case"flv":case"vob":case"avi":case"mov":case"qt":case"wmv":case"yuv":case"mp4":case"mpg":case"m4v":return fe.hvm;case"mp3":case"voc":case"vox":case"wav":case"wma":return fe.$qS;case"doc":case"docx":return fe.Mfv;case"ppt":case"pptx":return fe.WOY;case"xlsx":case"xlsm":case"xlsb":case"xltx":case"xls":return fe.icc;case"csv":return fe.fUD;default:return fe.gMD}},Ee=function(e){return e.match(/txt|py|gitignore|go|asp|hbs|jsp|json|cpp|rb|html|md|css|yml|java|xml|Gemfile|php|js|jade|styl|sql|mxml|as|scss|sass|less|es6|jsx|ts|htm|coffee|sh|elm|elmx|tsx|npmrc|yaml|c|o|xhtml|class|cs|h|babelrc|eslintrc|swift|bat|gradle|gradlew$/i)},ke=function(e){return e.match(/jpg|jpeg|png|img|gif|bmp$/i)},Se={auth:{credentials:function(){return"/api/v3/users/credentials/"}},onboarding:{resendEmail:"/api/v4/onboarding/resend-email/"}},Ie=r(9669),Ne=r.n(Ie),je=r(88461);function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="",n={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"};return t.headers&&(n=Te(Te({},n),t.headers)),t.baseURL&&(r=t.baseURL),t.custom?Ne():e?Ne().create({headers:Te(Te({},n),{},{"X-CSRFToken":(0,je.X4)(document.cookie).csrftoken})}):Ne().create({baseURL:r,headers:n})};function Ae(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){if(e){if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Be=function(e){var t=(0,me.$)().t,r=Me((0,n.useState)(!1),2),a=r[0],o=r[1],i=Me((0,n.useState)(null),2),l=i[0],c=i[1],s=(0,n.useRef)(null),u=function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentPreview!==e.file.id){t.next=3;break}return e.setCurrentPreview(""),t.abrupt("return");case 3:if(ke(e.file.extension)){t.next=13;break}if(!(r=e.previews.find((function(t){return t.id===e.file.id&&t.url===e.file.url})))){t.next=10;break}c(r.data),t.next=13;break;case 10:return o(!0),t.next=13,(n=e.file.url,xe(!0).get(n)).then((function(t){var r,n=t.data,a=e.file.extension.match(/json|babelrc|eslintrc$/i)?JSON.stringify(n,null,"  "):n;r=ge().getLanguage(e.file.extension)?ge().highlight(e.file.extension,a).value:ge().highlight("js",a).value,c(r),o(!1),e.setPreviews([].concat(Ae(e.previews),[{id:e.file.id,url:e.file.url,data:r}]))})).catch((function(e){throw o(!1),new Error(e)}));case 13:return t.next=15,e.setCurrentPreview(e.file.id);case 15:s.current.scrollIntoView({behavior:"smooth"});case 16:case"end":return t.stop()}var n}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Pe(o,n,a,i,l,"next",e)}function l(e){Pe(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),m=function(){e.setCurrentPreview("")},d=e.currentPreview===e.file.id&&!a,f=he()("File-row",{"File-row--preview":d}),p=Ee(e.file.extension)||ke(e.file.extension),y="".concat(t("materialView.filesTree.downloadFile")," ").concat(e.file.name);return n.createElement("div",{className:"File",ref:s},p?n.createElement("button",{onClick:u,className:f},n.createElement("div",{className:"File-info"},n.createElement("div",{className:"File-details"},n.createElement(de.FontAwesomeIcon,{icon:we(e.file.extension)}),n.createElement("p",{className:"File-name"},e.file.name)),n.createElement("a",{href:e.file.url,target:"_blank",download:e.file.name,className:"File-download","aria-label":y},n.createElement(de.FontAwesomeIcon,{icon:fe.q7m}),n.createElement("div",{className:"File-download-tooltip"},t("materialView.filesTree.downloadFile")))),a&&n.createElement("div",{className:"File-loader"})):n.createElement("a",{href:e.file.url,target:"_blank",download:e.file.name,className:"File-row","aria-label":y},n.createElement("div",{className:"File-info"},n.createElement("div",{className:"File-details"},n.createElement(de.FontAwesomeIcon,{icon:we(e.file.extension)}),n.createElement("p",{className:"File-name"},e.file.name)),n.createElement("div",{className:"File-download"},n.createElement(de.FontAwesomeIcon,{icon:fe.q7m}),n.createElement("div",{className:"File-download-tooltip"},t("materialView.filesTree.downloadFile"))))),d&&n.createElement("div",{className:"File-preview"},Ee(e.file.extension)&&l?n.createElement("div",{className:"File-preview-code"},n.createElement("button",{onClick:m,className:"File-preview-code-close"},n.createElement(de.FontAwesomeIcon,{icon:fe.V9$}),t("materialView.editor.contract")),n.createElement("code",{dangerouslySetInnerHTML:{__html:l}})):ke(e.file.extension)?n.createElement("figure",{className:"File-preview-image"},n.createElement("img",{src:e.file.url,alt:e.file.name})):null))};Be.propTypes={currentPreview:K().string,file:K().shape({id:K().string,name:K().string,url:K().string,extension:K().string}),previews:K().array,setPreviews:K().func,setCurrentPreview:K().func};var Fe=function(e){var t=e.breadcrumb,r=e.changeFolder,a=(0,se.iP)().width;return n.createElement("div",{className:"Breadcrumbs"},t.map((function(e,o){var i=n.createElement(n.Fragment,null,n.createElement(de.FontAwesomeIcon,{icon:ye.Pk}),n.createElement("span",null,e.name));if("/"===e.id&&(i=n.createElement(de.FontAwesomeIcon,{icon:ye.wzO})),a>ue.Zb){var l=a<ue.qY?2:3;if(t.length>l&&o===t.length-l-1&&0!==o&&(i="..."),t.length>l&&o<t.length-l-1&&0!==o)return}var c=he()("Breadcrumbs-item",{"Breadcrumbs-item--last":o===t.length-1,"Breadcrumbs-item--home":0===o}),s=he()("Breadcrumbs-divider",{"Breadcrumbs-divider--last":o===t.length-2,"Breadcrumbs-divider--first":0===o});return o===t.length-1?n.createElement(n.Fragment,{key:"crumb-".concat(e.id)},n.createElement("p",{className:c},i),"/"===e.id&&1===t.length&&n.createElement("span",{className:s},"/")):n.createElement(n.Fragment,{key:"crumb-".concat(e.id)},n.createElement("button",{onClick:function(){return r(e,!0)},className:c},i),n.createElement("span",{className:s},o===t.length-2&&n.createElement("button",{className:"Breadcrumbs-divider--points","aria-label":e.name,onClick:function(){return r(e,!0)}},"..."),"/"))})))};function Le(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||De(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Fe.propTypes={breadcrumb:K().array,changeFolder:K().func};var qe=function(e){var t=e.files,r=(0,me.$)().t,a=Ve((0,n.useState)(t),2),o=a[0],i=a[1],l=Ve((0,n.useState)(""),2),c=l[0],s=l[1],u=Ve((0,n.useState)([t]),2),m=u[0],d=u[1],f=Ve((0,n.useState)([]),2),p=f[0],y=f[1],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var r=m.findIndex((function(t){return t.id===e.id})),n=Le(m).splice(0,r+1);d(n)}else d([].concat(Le(m),[e]));i(e),s("")};return n.createElement("div",{className:"FilesTree"},n.createElement("div",{className:"FilesTree-head"},n.createElement(Fe,{breadcrumb:m,changeFolder:b}),n.createElement("a",{href:t.zip_url,target:"_blank",download:!0,className:"FilesTree-download","data-testId":"FilesTree-download"},n.createElement(de.FontAwesomeIcon,{className:"FilesTree-download-icon",icon:pe.q7m}),n.createElement("p",{className:"FilesTree-download-text"},r("materialView.tabs.downloadAll")))),n.createElement("div",{className:"FilesTree-items"},Object.entries(o.childNodes).map((function(e,t){return"folder"===e[1].type?function(e,t){return n.createElement("button",{className:"FilesTree-folder",onClick:function(){b(e)},key:"folder-".concat(e.id,"-").concat(t)},n.createElement(de.FontAwesomeIcon,{icon:ye.Pk}),n.createElement("p",{className:"FilesTree-name"},e.name))}(e[1],t):n.createElement(Be,{file:e[1],currentPreview:c,previews:p,setPreviews:y,key:t,setCurrentPreview:s})}))))};function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}qe.propTypes={files:K().shape({id:K().string,name:K().string,type:K().string,zip_url:K().string,childNodes:K().object})};var $e="folder",Ke=function(e){var t=(0,me.$)().t,r=(0,c.useSelector)((function(e){return e.get("header").get("isLogged")})),a=ze((0,n.useState)(!0),2),o=a[0],i=a[1],l=ze((0,n.useState)([]),2),s=l[0],u=l[1],m=ze((0,n.useState)([]),2),d=m[0],f=m[1];(0,n.useEffect)((function(){(function(e,t,r){return xe(!0,{headers:{"api-is-logged":arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}).get(Y(e,t,r)).then((function(e){return e.data}))})(e.courseSlug,e.materialId,e.materialSlug,r).then((function(e){u(e.files),f(e.links),i(!1)})).catch((function(e){throw i(!1),new Error(e)}))}),[]);var p=function(t){return function(){(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_suggested_reading",{type:"Suggested reading",materialId:e.materialId,readingUrl:t})}),window.open(t,"_blank")}};return n.createElement("div",{className:"FilesAndLinks"},o?n.createElement("div",{className:"FilesAndLinks-mock"},n.createElement("div",{className:"FilesAndLinks-mock--title"}),n.createElement("div",{className:"FilesAndLinks-mock--line"}),n.createElement("div",{className:"FilesAndLinks-mock--line"})):n.createElement(n.Fragment,null,(s.length>0||s.type===$e)&&n.createElement("h4",{className:"FilesAndLinks-title"},t("materialView.tabs.filesTitle")),n.createElement("div",null,s.type===$e?n.createElement(qe,{files:s}):s.map((function(e){return n.createElement("a",{href:e.zip_url,target:"_blank",download:e.name,className:"FilesAndLinks-item",key:e.id},n.createElement("div",null,n.createElement(de.FontAwesomeIcon,{className:"FilesAndLinks-item--type",icon:we(e.extension),size:"lg"}),e.name),n.createElement(de.FontAwesomeIcon,{className:"FilesAndLinks-item--download",icon:fe.q7m}))}))),d.length>0&&n.createElement("h4",{className:"FilesAndLinks-title"},t("materialView.tabs.linksTitle")),n.createElement("div",null,d.map((function(e,t){return n.createElement("button",{className:"FilesAndLinks-item",type:"button",key:"link-".concat(t),onClick:p(e.link)},n.createElement("div",{className:"FilesAndLinks-item--link"},""!==e.favicon?n.createElement("figure",{className:"FilesAndLinks-item--favicon"},n.createElement("img",{src:"https://www.google.com/s2/favicons?domain=".concat(e.favicon),alt:"",loading:"lazy"})):n.createElement(de.FontAwesomeIcon,{icon:fe.nNP,className:"FilesAndLinks-item--favicon FilesAndLinks-item--favicon--default"}),n.createElement("div",null,n.createElement("p",null,e.title),n.createElement("p",{className:"FilesAndLinks-item--url"},e.link))),n.createElement(de.FontAwesomeIcon,{className:"FilesAndLinks-item--download",icon:fe.gJF}))})))))};function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ke.propTypes={courseSlug:K().string,materialId:K().string,materialSlug:K().string};var Ge=function(e){var t=(0,me.$)().t,r=(0,c.useSelector)((function(e){return e.get("header").get("isLogged")})),a=Je((0,n.useState)(!0),2),o=a[0],i=a[1],l=Je((0,n.useState)([]),2),s=l[0],u=l[1];(0,n.useEffect)((function(){(function(e,t,r){return xe(!0,{headers:{"api-is-logged":arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}).get(Q(e,t,r)).then((function(e){return e.data}))})(e.courseSlug,e.materialId,e.materialSlug,r).then((function(e){u(e),i(!1)})).catch((function(e){throw i(!1),new Error(e)}))}),[]);return n.createElement("div",{className:"RecommendedClasses"},o?n.createElement("div",{className:"RecommendedClasses-grid"},n.createElement("div",{className:"RecommendedClasses-card RecommendedClasses-mock--animated"}),n.createElement("div",{className:"RecommendedClasses-card RecommendedClasses-mock--animated"})):n.createElement(n.Fragment,null,s.length>0&&n.createElement("h4",{className:"RecommendedClasses-title"},t("materialView.tabs.classesTitle")),n.createElement("div",{className:"RecommendedClasses-grid"},s.map((function(t,r){return n.createElement("button",{className:"RecommendedClasses-card RecommendedClasses-link",key:"link-".concat(r),type:"button",onClick:(a=t.materialUrl,function(){(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_suggested_class",{type:"Suggested class",materialId:e.materialId,ClassUrl:a})}),window.open(a,"_blank")})},n.createElement("figure",{className:"RecommendedClasses-card--thumbnail"},n.createElement("img",{src:t.thumbnail,alt:t.name,loading:"lazy"})),n.createElement("div",{className:"RecommendedClasses-card--content"},n.createElement("p",{className:"RecommendedClasses-card--title"},t.name),n.createElement("div",{className:"RecommendedClasses-card--course"},n.createElement("figure",{className:"RecommendedClasses-card--badge"},n.createElement("img",{src:t.courseBadge,alt:t.courseTitle,loading:"lazy"})),n.createElement("p",{className:"RecommendedClasses-card--text"},t.courseTitle))));var a})))))};function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ge.propTypes={courseSlug:K().string,materialId:K().string,materialSlug:K().string};var Qe=function(e){var t=(0,me.$)().t,r=Ye((0,n.useState)(""),2),a=r[0],o=r[1],i=Ye((0,n.useState)("/"),2),l=i[0],s=i[1],u=(0,c.useSelector)((function(e){return e.get("contactInfo").get("isOrganizer")}));return(0,n.useEffect)((function(){if(o(e.content),"undefined"!=typeof window){var t=window.location.pathname.split("/");t.splice(2,-1,"old"),s(t.join("/"))}}),[]),n.createElement("div",{className:"Resources"},n.createElement("div",{className:"Resources-description",dangerouslySetInnerHTML:{__html:a}}),u&&n.createElement("a",{className:"Resources-admin-link",href:l},n.createElement(de.FontAwesomeIcon,{icon:fe.X7o}),t("materialView.resources.goToOldAdmin")),n.createElement(Ke,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug}),n.createElement(Ge,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug}))};Qe.propTypes={content:K().string,courseSlug:K().string,materialId:K().string,materialSlug:K().string};var Xe=function(e){return{type:p,payload:e}},et=function(e){return{type:g,payload:e}},tt=function(e){return{type:E,payload:e}},rt=function(e){return{type:A,payload:e}},nt=function(e){return{type:B,payload:e}},at=function(e){return{type:F,payload:e}},ot=function(e){var t=parseInt(e/60,10),r=parseInt(e%60,10);return t=t<10?"0".concat(t):t,r=r<10?"0".concat(r):r,"".concat(t,":").concat(r)};function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var st=function(e){var t=(0,me.$)().t,r=(0,se.fC)(e.bookmarkDescription),a=lt((0,n.useState)(e.isPrivate),2),o=a[0],i=a[1],l=he()("BookmarkForm-head-radio-mark",{"is-private":!o});return n.createElement("div",{className:"BookmarkForm"},n.createElement(J.Zb,{customClass:"BookmarkForm-card"},n.createElement("div",{className:"BookmarkForm-head"},n.createElement("span",{className:"BookmarkForm-head-time"},e.isNew?ot(e.currentTime):ot(e.bookmarkTime)),n.createElement("label",{className:"BookmarkForm-head-radio",htmlFor:"bookmark-state"},n.createElement("span",{className:l},o?null:n.createElement("div",{className:"BookmarkForm-head-radio-check"})),n.createElement("input",{id:"bookmark-state",type:"checkbox",checked:o,onClick:function(){return i(!o)}}),t("materialView.bookmarkForm.public"))),n.createElement("textarea",it({className:"BookmarkForm-card-textarea"},r)),n.createElement("div",{className:"BookmarkForm-actions"},n.createElement("button",{className:"BookmarkForm-actions-save",type:"button",onClick:function(){e.onSubmit({description:r.value,private:o})}},t("materialView.bookmarkForm.buttonSave")),n.createElement("button",{className:"BookmarkForm-actions-button",type:"button",onClick:e.onCancel},t("materialView.bookmarkForm.buttonCancel")),!e.isNew&&n.createElement("button",{className:"BookmarkForm-actions-button --delete",type:"button",onClick:e.onDelete},n.createElement(de.FontAwesomeIcon,{icon:fe.$aW}),n.createElement("span",null,t("materialView.bookmarkForm.buttonDelete"))))))};function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}st.propTypes={onCancel:K().func,onSubmit:K().func,onDelete:K().func,isNew:K().bool,isPrivate:K().bool,currentTime:K().number,bookmarkDescription:K().string,bookmarkTime:K().string},st.defaultProps={onCancel:function(){},onSubmit:function(){},onDelete:function(){},isNew:!1,isPrivate:!0,currentTime:0,bookmarkDescription:"",bookmarkTime:""};var dt=function(e){var t=(0,c.useDispatch)(),r=ut((0,n.useState)(!1),2),a=r[0],o=r[1],i=function(){o(!1)};return n.createElement("div",{className:"BookmarkItem"},a?n.createElement(st,{onSubmit:function(r){var n,a,o=new FormData;o.append("time",e.time),o.append("description",r.description),o.append("private",r.private),(n=e.id,a=o,xe(!0).post(Z.edit(n),a).then((function(e){return e.data}))).then((function(){var n={id:e.id,time:e.time,description:r.description,edited:!1,private:r.private};t(function(e){return{type:h,payload:e}}(n)),i()})).catch((function(e){throw new Error(e)}))},onCancel:i,onDelete:function(){var r;(r=e.id,xe(!0).post(Z.delete(r)).then((function(e){return e.data}))).then((function(){t(function(e){return{type:v,payload:e}}(e.id)),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_bookmarks",{type:"Delete",materialId:e.materialId})}),i()})).catch((function(e){throw new Error(e)}))},bookmarkDescription:e.description,bookmarkTime:e.time,isPrivate:e.private}):n.createElement("div",{className:"BookmarkItem-item"},n.createElement("div",{className:"BookmarkItem-item-content"},n.createElement("button",{className:"BookmarkItem-button",type:"button",onClick:function(){t(et(e.time)),setTimeout((function(){return t(et(null))}),10)}},n.createElement("b",{className:"BookmarkItem-button-time"},ot(e.time)),n.createElement("span",{className:"BookmarkItem-button-icon"},n.createElement(de.FontAwesomeIcon,{icon:fe.xVw})),n.createElement("span",{className:"BookmarkItem-button-state"},e.private?null:"público"),n.createElement("p",{className:"BookmarkItem-button-description"},e.description))),n.createElement("div",{className:"BookmarkItem-item-edit"},n.createElement("button",{type:"button",onClick:function(){return o(!0)}},n.createElement(de.FontAwesomeIcon,{icon:ye.TzT})))))};function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}dt.propTypes={id:K().number,description:K().string,edited:K().bool,private:K().bool,time:K().number,materialId:K().string},dt.defaultProps={};var pt=function(e){var t=(0,me.$)().t,r=(0,c.useDispatch)(),a=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("bookmarks")})),o=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("newBookmark")})),i=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("currentTime")})),l=(0,c.useSelector)((function(e){return e.get("header").get("userInfo").get("userId")}));a=a?a.toJS():["empty"],(0,n.useEffect)((function(){var t,n,o;"empty"===a[0]&&(t=e.courseSlug,n=e.materialId,o=e.materialSlug,xe(!0).get(Z.get(t,n,o)).then((function(e){return e.data}))).then((function(e){r({type:y,payload:e})})).catch((function(e){throw new Error(e)}))}),[]);var s=function(){r(Xe(!1))};return"empty"===a[0]?n.createElement("div",{className:"Bookmarks-mock"},n.createElement("div",{className:"Bookmarks-mock--line"}),n.createElement("div",{className:"Bookmarks-mock--line"})):n.createElement("div",{className:"Bookmarks"},!o&&0===a.length&&n.createElement("div",{className:"Bookmarks-noMakers"},n.createElement("h6",{className:"Bookmarks-noMakers-title"},t("materialView.bookmarks.title")),n.createElement("p",{className:"Bookmarks-noMakers-text"},t("materialView.bookmarks.textOne")),n.createElement("p",{className:"Bookmarks-noMakers-text",dangerouslySetInnerHTML:{__html:t("materialView.bookmarks.textTwo")}}),n.createElement("div",{className:"Bookmarks-noMakers-icons"},n.createElement("div",{className:"Bookmarks-noMakers-icons-left"},n.createElement(de.FontAwesomeIcon,{icon:ye.uKJ})),n.createElement("div",{className:"Bookmarks-noMakers-icons-center"},n.createElement(de.FontAwesomeIcon,{icon:ye.xVw})),n.createElement("div",{className:"Bookmarks-noMakers-icons-right"},n.createElement(de.FontAwesomeIcon,{icon:ye.b7W})))),o&&n.createElement(st,{onSubmit:function(t){var n,a=new FormData;a.append("time",parseInt(i,10)),a.append("description",t.description),a.append("material_id",e.materialId),a.append("user_id",l),a.append("private",t.private),(n=a,xe(!0).post(Z.new,n).then((function(e){return e.data}))).then((function(n){r(function(e){return{type:b,payload:e}}({id:n.bookmark_id,time:parseInt(i,10),description:t.description,private:t.private})),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_bookmarks",{type:"Create",playerTime:parseInt(i,10),materialId:e.materialId})}),s()})).catch((function(e){throw new Error(e)}))},onCancel:s,currentTime:i,isNew:!0}),a.map((function(t,r){return n.createElement(dt,ft({key:"index-".concat(r),materialId:e.materialId},t))})))};function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e){var t=e.constructor();if(null==e||"object"!==yt(e))return e;for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function ht(e,t){return(1*(e=e.split("."))[1]||0)+1e3*((e=e[0].split(":"))[2]?3600*e[0]+60*e[1]+1*e[2]:e[1]?60*e[0]+1*e[1]:1*e[0])}pt.propTypes={courseSlug:K().string,materialId:K().string,materialSlug:K().string},pt.defaultProps={};var vt=function(e){var t=(0,me.$)().t,r=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("currentTime")})),a=he()("TranscriptItem",{isActive:e.start/1e3<r&&e.end/1e3>r});return e.end/1e3<r?null:n.createElement("div",{className:a},n.createElement("button",{className:"TranscriptItem-item",type:"button",onClick:function(){return e.goToTimeOnVideo(e.start/1e3)}},n.createElement("span",{className:"TranscriptItem-item-time"},ot(e.start/1e3)),n.createElement("p",{className:"TranscriptItem-item-content"},e.part)),n.createElement("div",{className:"TranscriptItem-button"},n.createElement("button",{type:"button",onClick:function(){return e.reportIssue(e.index)},"aria-label":t("materialView.TranscriptItem.reportIssue")},n.createElement(de.FontAwesomeIcon,{icon:ye.RrC}),n.createElement("div",{className:"TranscriptItem-tooltip"},n.createElement("p",null,t("materialView.TranscriptItem.reportIssue"))))))};function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}vt.propTypes={index:K().number,start:K().number,end:K().number,part:K().string,goToTimeOnVideo:K().func,reportIssue:K().func},vt.defaultProps={goToTimeOnVideo:function(){},reportIssue:function(){}};var wt=function(e){var t=(0,me.$)().t,r=(0,se.fC)("");(0,n.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){document.removeEventListener("keydown",a,!1)}}),[]);var a=function(t){27===t.keyCode&&e.close()};return n.createElement("div",{className:"TranscriptReport"},n.createElement("button",{className:"TranscriptReport-backdrop",onClick:e.close}),n.createElement(J.Zb,{customClass:"TranscriptReport-modal"},n.createElement("div",{className:"TranscriptReport-closeModal"},n.createElement("button",{type:"button",onClick:e.close,"aria-label":"Close Modal"},n.createElement(de.FontAwesomeIcon,{icon:fe.NBC}))),n.createElement("div",{className:"TranscriptReport-content"},n.createElement("div",{className:"TranscriptReport-title"},e.reportSent?n.createElement("div",{className:"TranscriptReport-title-thanks"},n.createElement(de.FontAwesomeIcon,{icon:fe.LEp})):n.createElement("div",{className:"TranscriptReport-title-icon"},n.createElement(de.FontAwesomeIcon,{icon:fe.RrC})),n.createElement("div",{className:"TranscriptReport-title-text"},e.reportSent?n.createElement(n.Fragment,null,n.createElement("h6",null,t("materialView.TranscriptReport.titleThanks")),n.createElement("p",null,t("materialView.TranscriptReport.messageThanks"))):n.createElement(n.Fragment,null,n.createElement("h6",null,t("materialView.TranscriptReport.title")),n.createElement("p",null,t("materialView.TranscriptReport.message"))))),!e.reportSent&&n.createElement("div",{className:"TranscriptReport-transcript"},n.createElement("p",null,e.subtitle)),!e.reportSent&&n.createElement("textarea",gt({className:"TranscriptReport-input",placeholder:t("materialView.TranscriptReport.placeholder")},r))),n.createElement("div",{className:"TranscriptReport-buttons"},e.reportSent?n.createElement("button",{type:"button",className:"TranscriptReport-buttons-copy",onClick:e.close},t("materialView.TranscriptReport.buttonReturn")):n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"TranscriptReport-buttons-copy",onClick:function(){e.onSubmit(r.value)}},t("materialView.TranscriptReport.buttonSend")),n.createElement("button",{type:"button",className:"TranscriptReport-buttons-cancel",onClick:e.close},t("materialView.TranscriptReport.buttonCancel"))))))};function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}wt.propTypes={close:K().func,onSubmit:K().func,reportSent:K().bool,subtitle:K().string},wt.defaultProps={close:function(){},onSubmit:function(){},reportSent:!1};var It=function(e){var t=(0,me.$)().t,r=(0,c.useDispatch)(),a=(0,c.useSelector)((function(e){return e.get("contactInfo").get("isOrganizer")})),o=kt((0,n.useState)("time"),2),i=o[0],l=o[1],s=kt((0,n.useState)([]),2),u=s[0],m=s[1],d=kt((0,n.useState)(!1),2),f=d[0],p=d[1],y=kt((0,n.useState)(!1),2),b=y[0],h=y[1],v=kt((0,n.useState)({}),2),g=v[0],w=v[1];(0,n.useEffect)((function(){var t;(t=e.source,xe().get(t).then((function(e){return e.data}))).then((function(e){var t;(t=e,new Promise((function(e,r){var n=t.split("\n"),a=[],o={},i=!1;n.forEach((function(e,t){-1!==e.indexOf("--\x3e")?(i=!0,o.start&&""!==o.part&&a.push(bt(o)),o={start:ht(e.split("--\x3e")[0].trimRight().split(" ").pop()),end:ht(e.split("--\x3e")[1].trimLeft().split(" ").shift()),part:""}):i&&(0!==a.length?a[a.length-1].part.replace(/<\/?[^>]+(>|$)/g,"")===e.replace(/<\/?[^>]+(>|$)/g,"")||(0===o.part.length?o.part=e:o.part="".concat(o.part," ").concat(e),t===n.length-1&&a.push(bt(o))):(o.part=e,a.push(bt(o)),o.part=""))})),a.forEach((function(e){e.part=e.part.replace(/<\/?[^>]+(>|$)/g,"")})),e(a)}))).then((function(e){return m(e)}))})).catch((function(e){throw new Error(e)}))}),[]);var E=function(e){r(et(e))},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&w(u[e]),r(rt(f)),p(!f),h(!1)},S=function(e){return l(e)},I=he()("Transcript-header-viewBy",{"is-active":"time"===i}),N=he()("Transcript-header-viewBy",{"is-active":"text"===i});return n.createElement("div",{className:"Transcript"},n.createElement("div",{className:"Transcript-header"},n.createElement("div",{className:"Transcript-header-actions"},n.createElement("span",null,t("materialView.Transcript.view")),n.createElement("button",{className:I,type:"button",onClick:function(){return S("time")}},t("materialView.Transcript.time")),n.createElement("button",{className:N,type:"button",onClick:function(){return S("text")}},t("materialView.Transcript.text"))),a&&n.createElement("a",{className:"Transcript-header-editTranscript",href:"?"},t("materialView.Transcript.editTranscript"))),n.createElement("div",{className:"Transcript-body"},"time"===i?n.createElement("div",{className:"Transcript-time"},u.map((function(e,t){return n.createElement(vt,Et({key:"index-".concat(t),goToTimeOnVideo:E,reportIssue:k,index:t},e))}))):n.createElement("div",{className:"Transcript-text"},u.map((function(e,t){return n.createElement("p",{key:"index-".concat(t)},e.part)})))),f&&n.createElement(wt,{close:k,onSubmit:function(t){var r,n={materialId:e.materialId,lang:e.language,time:g.start,oldText:g.part,newText:t};(r=n,xe(!0).post(X(r.materialId),{srclang:r.lang,time:r.time,old_text:r.oldText,new_text:r.newText}).then((function(e){return e.data}))).then((function(){h(!0)})).catch((function(e){throw new Error(e)}))},reportSent:b,subtitle:g.part}))};It.propTypes={source:K().string,language:K().string,materialId:K().string},It.defaultProps={};var Nt=r(96486);function jt(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Tt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xt=function(e){var t=Ct((0,n.useState)(e.enabled),2),r=t[0],a=t[1];(0,n.useEffect)((function(){if(r!==e.enabled&&a(e.enabled),null!==e.scrollParent)if(e.scrollParent)e.scrollParent.addEventListener("scroll",o());else if(e.domRefference){document.querySelector(e.domRefference).addEventListener("scroll",o())}return function(){var t=e.scrollParent,r=e.domRefference;if(t&&null!==t)if(t)t.removeEventListener("scroll",o());else if(r){document.querySelector(r).removeEventListener("scroll",o())}}}),[e.enabled,e.scrollParent]),(0,n.useEffect)((function(){e.fetchElements(!1)}),jt(e.hooksDependencies));var o=function(){return e.debounced?l:i},i=function(t){e.enabled&&c(t)},l=(0,Nt.debounce)(i,e.delay),c=function(t){if(e.reverted){e.scrollParent.scrollHeight-e.scrollParent.scrollTop>.7*e.scrollParent.scrollHeight&&e.fetchElements()}else{e.scrollParent.scrollTop>.7*e.scrollParent.scrollHeight&&e.fetchElements()}};return n.createElement("div",{className:"InfinityScrollLayout"},e.children)};xt.propTypes={debounced:K().bool,delay:K().number,enabled:K().bool,scrollParent:K().object,children:K().array.isRequired,fetchElements:K().func.isRequired,scrollLimiter:K().number,domRefference:K().string,reverted:K().bool,hooksDependencies:K().array},xt.defaultProps={debounced:!1,delay:0,enabled:!1,scrollLimiter:.7,scrollParent:"undefined"!=typeof window?window:null,domRefference:"",reverted:!1,hooksDependencies:[]};var At=function(e){var t=(0,me.$)().t;return n.createElement("div",{className:"OrderBy"},n.createElement("span",{className:"OrderBy-text"},t("materialView.orderBy")),e.filters.map((function(t,r){return n.createElement("button",{className:e.orderBy===t.value?"OrderBy-button is-active":"OrderBy-button",key:"filter-".concat(r),type:"button",onClick:function(){return e.setOrderBy(t.value)}},t.label)})))};At.propTypes={filters:K().array,orderBy:K().string,setOrderBy:K().func},At.defaultProps={filters:[],orderBy:"top",setOrderBy:function(){}};var Pt=function(e){return n.createElement("span",{className:"radio is-".concat(e.color," ").concat(e.className)},n.createElement("input",{type:"radio",name:e.name,value:e.value,id:e.id,defaultChecked:e.defaultChecked,className:"form-control radio-input",onChange:e.onChange}),n.createElement("label",{htmlFor:e.id,className:"radio-label ".concat(e.labelClass)},e.label))};Pt.propTypes={name:K().string.isRequired,value:K().oneOfType([K().string,K().bool]),id:K().string.isRequired,label:K().string.isRequired,labelClass:K().string,onChange:K().func,defaultChecked:K().bool,className:K().string,color:K().string},Pt.defaultProps={defaultChecked:!1,color:"green",labelClass:""};var Mt=r(91768),Rt=r(8514);const _t=function(){return!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)};var Bt={0:"unk",1:"mouse1",2:"mouse2",3:"break",4:"mouse3",5:"mouse4",6:"mouse5",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",21:"imehangul",23:"imejunja",24:"imefinal",25:"imekanji",27:"escape",28:"imeconvert",29:"imenonconvert",30:"imeaccept",31:"imemodechange",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",41:"select",42:"print",43:"execute",44:"snapshot",45:"insert",46:"delete",47:"help",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:";",60:"<",61:"=",62:">",63:"?",64:"@",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",92:"meta",93:"menu",95:"sleep",96:"num0",97:"num1",98:"num2",99:"num3",100:"num4",101:"num5",102:"num6",103:"num7",104:"num8",105:"num9",106:"num*",107:"num+",108:"numenter",109:"num-",110:"num.",111:"num/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"f13",125:"f14",126:"f15",127:"f16",128:"f17",129:"f18",130:"f19",131:"f20",132:"f21",133:"f22",134:"f23",135:"f24",144:"numlock",145:"scrolllock",160:"shiftleft",161:"shiftright",162:"ctrlleft",163:"ctrlright",164:"altleft",165:"altright",166:"browserback",167:"browserforward",168:"browserrefresh",169:"browserstop",170:"browsersearch",171:"browserfavorites",172:"browserhome",173:"volumemute",174:"volumedown",175:"volumeup",176:"nexttrack",177:"prevtrack",178:"stop",179:"playpause",180:"launchmail",181:"launchmediaselect",182:"launchapp1",183:"launchapp2",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"meta",224:"meta",226:"altgr",229:"imeprocess",231:"unicode",246:"attention",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoom",252:"noname",253:"pa1",254:"clear"};const Ft=function(e){return Bt[e]};var Lt=r(32550),Vt=r(98619),Dt=r.n(Vt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const qt=function(e){if("object"!==Ut(e))throw new TypeError("The field must be an object.");if(!(e instanceof Element))throw new TypeError("The field must be an instance of Element.");return{start:e.selectionStart,end:e.selectionEnd}};function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const Ht=function(e,t){if("string"!=typeof e)throw new TypeError("The content must be a string.");if("object"!==zt(t))throw new TypeError("The selection must be an object.");if("number"!=typeof t.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof t.end)throw new TypeError("The selection end value must be a number.");return e.slice(t.start,t.end)};function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const Kt=function(e,t,r){if("string"!=typeof e)throw new TypeError("The content value must be a string.");if("object"!==$t(t))throw new TypeError("The selection must be an object.");if("number"!=typeof t.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof t.end)throw new TypeError("The selection end value must be a number.");if("string"!=typeof r)throw new TypeError("The updated content value must be a string.");return e.slice(0,t.start)+r+e.slice(t.end)};function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!e)return null;if("object"!==Jt(e))throw new TypeError("The selection must be an object.");if("number"!=typeof e.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof e.end)throw new TypeError("The selection end value must be a number.");if("object"!==Jt(t))throw new TypeError("The field must be an object.");if(!(t instanceof Element))throw new TypeError("The field must be an instance of Element.");if(t.setSelectionRange)return t.setSelectionRange(e.start,e.end),null;if(!t.createTextRange)return null;var r=t.createTextRange();return r.collapse(!0),r.moveStart("character",e.end),r.moveEnd("character",e.end),r.select(),null};function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const Yt=function(e,t,r,n,a){if("string"!=typeof e)throw new TypeError("The selected content value must be a string.");if("object"!==Gt(t))throw new TypeError("The selection must be an object.");if("number"!=typeof t.start)throw new TypeError("The selection start value must be a number.");if("number"!=typeof t.end)throw new TypeError("The selection end value must be a number.");if("string"!=typeof r)throw new TypeError("The full content value must be a string.");if("object"!==Gt(n))throw new TypeError("The native event must be an object.");if("string"!=typeof a)throw new TypeError("The parsed content value must be a string.");return{selected:e,selection:t,full:r,native:n,parsed:a}};function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=lr(e);if(t){var a=lr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return or(this,r)}}function or(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?ir(e):t}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(l,e);var t,r,a,o=ar(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={content:e.defaultValue,expanded:!1,mode:e.defaultMode,uploading:!1,view:"field",writingEmoji:!1,emojiCode:""},t.id=t.props.id,t.handleInput=t.handleInput.bind(ir(t)),t.handleChangeView=t.handleChangeView.bind(ir(t)),t.handleKeyDown=t.handleKeyDown.bind(ir(t)),t.handleExpandClick=t.handleExpandClick.bind(ir(t)),t.handleContractClick=t.handleContractClick.bind(ir(t)),t.handleEditorClick=t.handleEditorClick.bind(ir(t)),t.handleScroll=t.handleScroll.bind(ir(t)),t.previewRef=t.previewRef.bind(ir(t)),t.handleEditorDrop=t.handleEditorDrop.bind(ir(t)),t.handleEmojiClick=t.handleEmojiClick.bind(ir(t)),t.parser=Dt()(e.markdown),t}return t=l,(r=[{key:"componentDidMount",value:function(){document.getElementById("textarea-".concat(this.id)).focus()}},{key:"componentDidUpdate",value:function(e,t){t.expanded!==this.state.expanded&&document.getElementById("textarea-".concat(this.id)).focus()}},{key:"clearContent",value:function(){this.setState({content:""}),this.props.isMain&&localStorage.removeItem("editor-".concat(window.location.href))}},{key:"handleInput",value:function(e){var t=this,r=e.target.value;this.setState((function(e){var n={content:r};if(t.props.emojiBar&&(r.lastIndexOf(":")===r.length-1&&(r.length-2<0||" "===r[r.length-2]||"\n"===r[r.length-2]||"\t"===r[r.length-2])&&(n.writingEmoji=!0),r.lastIndexOf(" ")!==r.length-1&&0!==r.length||(n.writingEmoji=!1,n.emojiCode=""),e.writingEmoji)){var a=r.split(":"),o=a[a.length-1];t.setState({emojiCode:o})}return n}),(function(){t.props.isMain&&localStorage.setItem("editor-".concat(window.location.href),r),t.handleChange(e)}))}},{key:"handleChangeView",value:function(e){var t=e.currentTarget.name;t&&this.setState({view:t})}},{key:"handleButtonTransform",value:function(e,t){var r=this;return function(e){e.persist();var n=r.props.features[t],a=qt(r.domField),o=Ht(r.state.content,a),i=n.updater(o,r.state.content,a),l=Kt(r.state.content,a,i);r.setState({content:l},(function(){var t=r.domField.scrollTop;if(r.domField.focus(),r.domField.scrollTop=t,n.handler){var c=n.handler(er(er({},e),{},{content:l,field:r.domField,updated:i,selection:a,selected:o}));Wt(c,r.domField)}r.props.isMain&&localStorage.setItem("editor-".concat(window.location.href),l),r.props.onChange&&r.handleChange(e)}))}}},{key:"handleKeyDown",value:function(e){var t=this,r=e.keyCode||e.which;switch(Ft(r)){case"tab":e.preventDefault();var n=qt(this.domField),a=n.start,o=n.end,i=this.state.content,l="".concat(i.substring(0,a),"\t").concat(i.substring(o));return this.setState({content:l},(function(){t.domField.selectionEnd=a+1}));case"escape":return this.state.expanded?(e.preventDefault(),this.handleContractClick()):e;case"b":if(_t()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return e.preventDefault(),this.handleButtonTransform("bold")(e);case"e":if(_t()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return this.state.expanded?e:(e.preventDefault(),this.handleExpandClick());case"i":if(_t()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return e.preventDefault(),e.shiftKey?this.handleButtonTransform("image")(e):this.handleButtonTransform("italic")(e);case"k":if(_t()){if(!e.metaKey)return e}else if(!e.ctrlKey||e.altKey)return e;return e.preventDefault(),e.shiftKey?this.handleButtonTransform("code")(e):this.handleButtonTransform("link")(e);case"l":return!e.ctrlKey||e.altKey?e:(e.preventDefault(),this.handleButtonTransform("list")(e));case"q":return!e.cltrKey||e.altKey?e:(e.preventDefault(),this.handleButtonTransform("quote")(e));case"u":if(_t()){if(!e.metaKey)return e}else if(!e.ctrlKey)return e;return e.preventDefault(),e.altKey?this.handleButtonTransform("strike")(e):this.handleButtonTransform("underline")(e);default:return e}}},{key:"handleExpandClick",value:function(){var e=this,t=0,r=0;return this.domField&&(t=this.domField.selectionStart,r=this.domField.selectionEnd),this.setState({expanded:!0}),document.body.setAttribute("style","height: 100vh; overflow: hidden;"),setTimeout((function(){Wt({start:t,end:r},e.domField),e.domField.scrollTop=0}),300)}},{key:"handleContractClick",value:function(){var e=this,t=0,r=0;return this.domField&&(t=this.domField.selectionStart,r=this.domField.selectionEnd),this.setState({expanded:!1}),document.body.removeAttribute("style"),setTimeout((function(){return Wt({start:t,end:r},e.domField)}),300)}},{key:"handleScroll",value:function(e){if(this.state.expanded||"wide"===this.state.mode){var t=e.target.scrollTop;this.previewNode.scrollTop=t}}},{key:"handleChange",value:function(e){if(!this.props.onChange)return null;var t=qt(this.domField),r=Ht(this.state.content,t);return this.props.onChange(Yt(r,t,this.state.content,e,this.parser(this.state.content,this.props.markdown)))}},{key:"handleEditorClick",value:function(e){var t=this;window.matchMedia("(min-width: 768px)").matches&&this.props.wideMode&&"normal"===this.state.mode&&this.setState({mode:"wide"},(function(){return t.domField.focus()})),this.props.onClick&&this.props.onClick(e)}},{key:"handleEditorDrop",value:function(e){var t=this;if(e.preventDefault(),this.state.uploading||0===e.dataTransfer.files.length)return null;var r=e.dataTransfer.files[0],n=new FormData;n.append("file",r);var a=r.name,o=qt(this.domField),i="![".concat(this.props.messages.editor.uploading,"]()"),l=Kt(this.state.content,o,i),c={start:o.start,end:o.end+i.length};return Wt(c,this.domField),this.setState({content:l,uploading:!0},(function(){return xe(!0).post(ae,n).then((function(r){var n=r.data.path,i="![".concat(a,"](").concat(n,")"),l=Kt(t.state.content,c,i),s={start:o.start,end:o.end+i.length},u=Ht(t.state.content,s);return Wt(s,t.domField),t.setState({content:l,uploading:!1},(function(){t.props.isMain&&localStorage.setItem("editor-".concat(window.location.href),l),t.props.onChange(Yt(u,s,t.state.content,e,t.parser(t.state.content,t.props.markdown)))}))})).catch((function(e){var r=e.message,n="![".concat(r,"]()"),a=Kt(t.state.content,c,n),i={start:o.start,end:o.end+n.length};return Wt(i,t.domField),t.setState({content:a,uploading:!1})}))}))}},{key:"handleEmojiClick",value:function(e){var t=this,r=e.currentTarget.dataset.code;this.setState((function(e){var t=(0,i.List)(e.content.split(":")).pop().push(r).toArray().join(":");return{content:"".concat(t,": "),emojiCode:"",writingEmoji:!1}}),(function(){var e=t.domField.scrollTop;t.domField.focus(),t.domField.scrollTop=e}))}},{key:"previewRef",value:function(e){this.previewNode=e}},{key:"domField",get:function(){return document.getElementById("textarea-".concat(this.id))}},{key:"field",get:function(){return this.state.expanded?n.createElement("textarea",Qt({},this.props.textarea,{className:"".concat(this.props.baseClass,"-field"),value:this.state.content,onChange:this.handleInput,onKeyDown:this.handleKeyDown,onScroll:this.handleScroll,id:"textarea-".concat(this.id),disabled:this.state.uploading,required:!0})):n.createElement(Rt.Z,Qt({},this.props.textarea,{className:"".concat(this.props.baseClass,"-field"),value:this.state.content,onChange:this.handleInput,onKeyDown:this.handleKeyDown,onScroll:this.handleScroll,id:"textarea-".concat(this.id),maxRows:10,disabled:this.state.uploading,required:!0}))}},{key:"preview",get:function(){return n.createElement("div",Qt({},this.props.preview,{ref:this.previewRef,className:"".concat(this.props.baseClass,"-preview ").concat(this.props.preview.className||""),dangerouslySetInnerHTML:{__html:this.parser(this.state.content)}}))}},{key:"fieldButton",get:function(){return this.props.buttons.field?"field"===this.state.view||this.state.expanded?null:n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-field"),onClick:this.handleChangeView,name:"field",type:"button",ref:"button-field",disabled:"field"===this.state.view},this.props.buttons.field)):null}},{key:"previewButton",get:function(){return this.props.buttons.preview?"preview"===this.state.view||this.state.expanded||"wide"===this.state.mode?null:n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-preview"),onClick:this.handleChangeView,name:"preview","aria-label":this.props.messages.actions.preview,type:"button",ref:"button-preview",disabled:"preview"===this.state.view},this.props.buttons.preview)):null}},{key:"expandButton",get:function(){return n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-expand"),onClick:this.handleExpandClick,name:"expand",type:"button","aria-label":this.props.messages.actions.expand,disabled:this.state.expanded},this.props.buttons.expand))}},{key:"contractButton",get:function(){return n.createElement("div",{className:"".concat(this.props.baseClass,"-buttonGroup")},n.createElement("button",{className:"".concat(this.props.baseClass,"-button is-contract"),onClick:this.handleContractClick,name:"contract",type:"button","aria-label":this.props.messages.actions.contract,disabled:!this.state.expanded},this.props.buttons.contract))}},{key:"buttons",get:function(){var e=this;return"preview"!==this.state.view||this.state.expanded?this.props.features.map((function(t,r){return n.createElement(n.Fragment,{key:t.featureName},n.createElement("button",{className:"".concat(e.props.baseClass,"-button ").concat(e.props.baseClass,"-button--").concat(t.featureName),onClick:e.handleButtonTransform(t.featureName,r),name:t.featureName,key:t.featureName,"aria-label":e.props.messages.actions[t.featureName],type:"button",ref:"button-".concat(t.featureName),disabled:"preview"===e.state.view},t.button),(2===r||5===r)&&n.createElement("div",{className:"".concat(e.props.baseClass,"-divider")}))})):null}},{key:"content",get:function(){if(this.state.expanded)return n.createElement("div",{className:"".concat(this.props.baseClass,"-expanded")},this.field,this.preview);if("wide"===this.state.mode)return n.createElement("div",{style:{width:"100%"}},n.createElement("div",{className:"".concat(this.props.baseClass,"-wide")},this.field,this.preview),n.createElement("div",{className:"".concat(this.props.baseClass,"-helpbar")},n.createElement("div",null,this.props.messages.helpbar.markdown),n.createElement("div",null,this.props.messages.helpbar.preview)));if("normal"===this.state.mode){if("preview"===this.state.view)return this.preview;if("field"===this.state.view)return this.field}return null}},{key:"emojiBar",get:function(){var e=this;if(!this.state.writingEmoji||this.state.emojiCode.length<2)return null;var t=(0,i.Map)(Lt);return n.createElement("section",{className:"".concat(this.props.baseClass,"-emojiBar ").concat(this.state.expanded&&"is-expanded")},t.filter((function(t,r){return 0===r.indexOf(e.state.emojiCode.toLowerCase())})).map((function(t,r){return n.createElement("button",{key:r,type:"button","data-code":r,className:"".concat(e.props.baseClass,"-emojiItem"),onClick:e.handleEmojiClick},t," ",n.createElement("code",{className:"".concat(e.props.baseClass,"-emojiCode")},":",r,":"))})).toArray())}},{key:"render",value:function(){return n.createElement("div",{className:"".concat(this.props.baseClass," ").concat(this.state.expanded&&"is-expanded"),onClick:this.handleEditorClick,onKeyPress:function(){},role:"button",tabIndex:"0",onDrop:this.handleEditorDrop},n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar ").concat(this.state.expanded&&"is-expanded")},n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-left")},this.buttons),n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-right")},this.state.expanded?this.contractButton:this.expandButton,this.fieldButton)),this.content,this.props.title&&this.state.expanded&&n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar is-expanded is-bottom")},n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-left")}),n.createElement("div",{className:"".concat(this.props.baseClass,"-toolbar-right")},n.createElement("strong",{style:{marginRight:".5em"}},this.props.messages.bottom.title),n.createElement("input",{className:"".concat(this.props.baseClass,"-title"),type:"text",value:this.props.title,name:"title",onChange:this.handleChange,disabled:!0}))),this.emojiBar)}}])&&rr(t.prototype,r),a&&rr(t,a),l}(n.Component);cr.propTypes={isMain:K().bool,defaultValue:K().string,baseClass:K().string,title:K().string,features:K().array,textarea:K().object,markdown:K().object,preview:K().object,onChange:K().func,onClick:K().func,ref:K().func,defaultMode:K().oneOf(["normal","wide"]),messages:K().object,wideMode:K().bool,emojiBar:K().bool,storage:K().string,onSubmit:K().func,buttons:K().object,tranformations:K().object,handlers:K().object,id:K().string},cr.defaultProps={isMain:!1,defaultValue:"",baseClass:"PulseEditor",title:null,features:[],textarea:{},markdown:{},preview:{},onChange:null,onClick:null,ref:null,defaultMode:"normal",messages:{},wideMode:!1,emojiBar:!0,storage:"session",buttons:{},tranformations:{},handlers:{}};const sr=cr;const ur=function(e,t,r,a,o,i){var l={isMain:!0,defaultValue:"",defaultMode:"normal",wideMode:!1,id:i,features:[{button:t.icons.bold,featureName:"bold",updater:function(e){return"**".concat(e,"**")},handler:function(e){return{start:2+e.selection.start,end:e.selection.end+2}},order:1,group:1},{button:t.icons.italic,featureName:"italic",updater:function(e){return"_".concat(e,"_")},handler:function(e){return{start:1+e.selection.start,end:e.selection.end+1}},order:2,group:1},{button:t.icons.underline,featureName:"underline",updater:function(e){return"++".concat(e,"++")},handler:function(e){return{start:2+e.selection.start,end:e.selection.end+2}},order:3,group:1},{button:t.icons.quote,featureName:"quote",updater:function(e,t,r){return t.length===r.start?"\n>":"> ".concat(e,"\n")},handler:function(e){return e.selected.length===e.selection.start?{start:e.selection.start+2,end:e.selection.end+2}:{start:2+e.selection.start,end:e.selection.end+2}},order:4,group:2},{button:t.icons.unorderedList,featureName:"list",updater:function(e,t,r){return 0===r.start?"- ".concat(e):"\n- ".concat(e)},handler:function(e){return 0===e.selection.start?{start:e.selection.start+2+e.selected.length,end:e.selection.end+2}:{start:e.selection.start+3+e.selected.length,end:e.selection.end+3}},order:5,group:2},{button:t.icons.orderedList,featureName:"listOrdered",updater:function(e,t,r){return 0===r.start?"1. ".concat(e):"\n1. ".concat(e)},handler:function(e){return 0===e.selection.start?{start:e.selection.start+3+e.selected.length,end:e.selection.end+3}:{start:e.selection.start+4+e.selected.length,end:e.selection.end+4}},order:6,group:2},{button:t.icons.code,featureName:"code",updater:function(e){return 0===e.length?"\n\n```\n<code> \n```\n":"```\n".concat(e,"\n```")},handler:function(e){return 0===e.selected.length?{start:5+e.selection.start+1,end:5+e.selection.end+8}:{start:e.selection.start+1,end:e.selection.end+1}},order:7,group:3},{button:t.icons.link,featureName:"link",updater:function(e){return"[".concat(e,"](url)")},handler:function(e){return{start:e.selection.start+e.selected.length+3,end:e.selection.end+6}},order:8,group:3},{button:t.icons.image,featureName:"image",updater:function(e){return"![](".concat(e||"url",")")},handler:function(e){return 0===e.selected.length?{start:e.selection.start+4,end:e.selection.end+3+4}:{start:e.selection.start+4+e.selected.length+1,end:e.selection.end+5}},order:9,group:3}],buttons:{field:t.icons.edit,preview:n.createElement("div",null,t.icons.preview,n.createElement("span",null,t.actions.preview)),expand:n.createElement("div",null,t.icons.preview,n.createElement("span",null,t.actions.preview)),contract:n.createElement("div",null,t.icons.contrac,n.createElement("span",null,t.actions.contract))},textarea:{placeholder:t.actions.questionPlaceholder},markdown:{highlight:function(e,t){return t&&ge().getLanguage(t)?ge().highlight(t,e).value:ge().highlightAuto(e).value}},preview:{className:"CommentContent-text"},onSubmit:r,onChange:a,ref:e,messages:t};return o&&(l.features.heading={button:n.createElement("span",{title:null==t?void 0:t.actions.title,"aria-label":null==t?void 0:t.actions.title,className:"fa fa-header"},null==t?void 0:t.actions.title),updater:function(e){return"#"!==e.charAt(0)?"## ".concat(e):"#"===e.charAt(5)?e:"#".concat(e)},handler:function(e){return"#"!==e.selected.charAt(0)?{start:e.selection.start,end:e.selection.end+3}:"#"===e.selected.charAt(5)?e.selection:{start:e.selection.start,end:e.selection.end+1}},order:10,group:3},l.features.youtube={button:n.createElement("span",{title:"Youtube","aria-label":"Youtube",className:"icon-youtube-play"}),updater:function(e){return e.length>0?"@[youtube](".concat(e,")"):"@[youtube](id|url)"},handler:function(e){return e.selected.length>0?{start:e.selection.start+11,end:e.selection.end+11}:{start:e.selection.start+11,end:e.selection.end+17}},order:11,group:3}),l};function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vr(e);if(t){var a=vr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return hr(this,r)}}function hr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(i,e);var t,r,a,o=br(i);function i(){var e,t;fr(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return hr(t,(e=t=o.call.apply(o,[this].concat(n)),t.handleEditorChange=function(e){t.props.setEditorValues({content:e.parsed,markDownContent:e.full})},t.setRef=function(e){t.editor=e},e))}return t=i,(r=[{key:"render",value:function(){var e=this.props.t,t={actions:{bold:e("materialView.editor.bold"),italic:e("materialView.editor.italic"),underline:e("materialView.editor.underline"),code:e("materialView.editor.code"),link:e("materialView.editor.link"),image:e("materialView.editor.image"),unorderedList:e("materialView.editor.unorderedList"),orderedList:e("materialView.editor.orderedList"),edit:e("materialView.editor.edit"),preview:e("materialView.editor.preview"),fullScreen:e("materialView.editor.fullScreen"),contract:e("materialView.editor.contract"),questionPlaceholder:e("materialView.editor.questionPlaceholder"),quote:e("materialView.editor.quote"),title:e("materialView.editor.title"),expand:e("materialView.editor.expand")},helpbar:{markdown:e("materialView.editor.markdown"),preview:e("materialView.editor.preview")},bottom:{title:e("materialView.editor.title")},editor:{uploading:e("materialView.editor.uploading")},icons:{bold:n.createElement(de.FontAwesomeIcon,{icon:fe.c_t}),italic:n.createElement(de.FontAwesomeIcon,{icon:fe.cJz}),underline:n.createElement(de.FontAwesomeIcon,{icon:fe.jmw}),quote:n.createElement(de.FontAwesomeIcon,{icon:pe.y1i}),unorderedList:n.createElement(de.FontAwesomeIcon,{icon:fe.gf$}),orderedList:n.createElement(de.FontAwesomeIcon,{icon:fe.nFo}),code:n.createElement(de.FontAwesomeIcon,{icon:fe.dT$}),link:n.createElement(de.FontAwesomeIcon,{icon:fe.nNP}),image:n.createElement(de.FontAwesomeIcon,{icon:fe.Oi0}),preview:n.createElement(de.FontAwesomeIcon,{icon:fe.Mdf}),contrac:n.createElement(de.FontAwesomeIcon,{icon:fe.V9$}),edit:n.createElement(de.FontAwesomeIcon,{icon:fe.TzT})}};return n.createElement(sr,dr({},ur(this.setRef,t,(function(){}),this.handleEditorChange,!1,this.props.id),{textarea:{onFocus:function(){}}}))}}])&&pr(t.prototype,r),a&&pr(t,a),i}(n.Component);gr.propTypes={t:K().func,setEditorValues:K().func,id:K().string};const wr=(0,Mt.Z)()(gr);function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jr={headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundaryQEAJn6Z2lP1GW8mJ","Custom-Content-Encode":"base64"}},Cr=function(e){var t=(0,me.$)().t,r=(0,c.useDispatch)(),a=(0,c.useSelector)((function(e){return e.get("header").get("userInfo").get("avatar")})),o=(0,c.useSelector)((function(e){var t,r;return null===(t=e.get("community"))||void 0===t||null===(r=t.get("contributions"))||void 0===r?void 0:r.get("payload")}),c.shallowEqual),i=Ir((0,n.useState)("input"),2),l=i[0],s=i[1],u=Ir((0,n.useState)(!1),2),m=u[0],d=u[1],f=Ir((0,n.useState)(""),2),p=f[0],y=f[1],b=Ir((0,n.useState)(e.defaultRadio||""),2),h=b[0],v=b[1],g=Ir((0,n.useState)({content:"",markDownContent:""}),2),w=g[0],E=g[1],k=e.hideRadioButtons,N=e.isReply,j=e.payloadCustom,C=e.setViewState,x=e.extraData;o=o?o.toJS():{url:"",parameters:[]},(0,n.useEffect)((function(){(0,je.w6)(w.markDownContent,M)}),[w.markDownContent,h]);var A=function(e){C&&C(e),s(e)},M=function(t){var n;t&&"questions"===h&&(n=w.markDownContent,xe(!0).get(oe(n)).then((function(e){return e.data}))).then((function(t){0===t.discussions.length&&0===t.contributions.length?(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_instant_answers",{type:"No Results",materialId:e.materialId,question:w.markDownContent})}):N||(r(function(e){return{type:L,payload:e}}(t)),r(at(!0)),r(function(e){return{type:V,payload:e}}(w.markDownContent)),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_instant_answers",{type:"Print",materialId:e.materialId,question:w.markDownContent})}))})).catch((function(e){throw new Error(e)}))},_=he()("EditorWrapper",{"EditorWrapper--alternative":N});return n.createElement("div",{className:_},"input"===l?e.isReply?n.createElement("button",{className:"EditorWrapper-buttonCta",onClick:function(){return A("editor")}},n.createElement(de.FontAwesomeIcon,{icon:fe.Lh7}),t("materialView.card.reply")):n.createElement("button",{className:"EditorWrapper-input",onClick:function(){return A("editor")}},n.createElement("figure",{className:"EditorWrapper-input-avatar"},n.createElement("img",{src:a,alt:t("materialView.editor.personalAvatar"),loading:"lazy"})),t("materialView.editor.questionPlaceholder")):n.createElement("form",{onSubmit:function(e){if(y(""),e.preventDefault(),"comments"===h||"questions"===h){d(!0);var n=new FormData,a=kr({},N?j:o);if("questions"===h&&!N){var i=a.parameters.findIndex((function(e){return"is_discussion"===e.name}));a.parameters[i].value=!0}n.append("content",btoa(encodeURIComponent(w.content))),n.append("markdown_content",btoa(encodeURIComponent(w.markDownContent)));for(var l=0;l<a.parameters.length;l++)n.append(a.parameters[l].name,a.parameters[l].value);xe(!0,jr).post(a.url,n).then((function(e){var t=e.data;N?r("comments"===h?function(e){return{type:I,payload:e}}({card:t,extraData:x}):function(e){return{type:O,payload:e}}({card:t,extraData:x})):"comments"===h?(r(function(e){return{type:S,payload:e}}(t)),r(function(e){return{type:P,payload:e}}())):(r(function(e){return{type:T,payload:e}}(t)),r(function(e){return{type:R,payload:e}}())),d(!1),A("input")})).catch((function(e){var r,n;y((null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||t("materialView.editor.generalError")),d(!1)}))}else y(t("materialView.editor.selectRadioError"))},className:"EditorWrapper-form"},n.createElement("button",{onClick:function(){return A("input")},className:"EditorWrapper-form-close","aria-label":t("materialView.editor.close")},n.createElement(de.FontAwesomeIcon,{icon:ye.NBC})),n.createElement(wr,{id:e.id,setEditorValues:E}),n.createElement("div",{className:"EditorWrapper-form-footer"},!k&&n.createElement("div",{className:"EditorWrapper-form-radios"},n.createElement(Pt,{id:"comments",type:"radio",name:"type",onChange:function(){return v("comments")},value:"comments",label:t("materialView.editor.comments"),required:!0}),n.createElement(Pt,{id:"questions",type:"radio",name:"type",onChange:function(){return v("questions")},value:"questions",label:t("materialView.editor.questions"),required:!0})),n.createElement("button",{type:"submit",className:"EditorWrapper-form-submit",disabled:m},n.createElement(de.FontAwesomeIcon,{icon:ye.XCy}),t("materialView.editor.publish"))),""!==p&&n.createElement("p",{className:"EditorWrapper-form-error"},n.createElement(de.FontAwesomeIcon,{icon:ye.eHv}),p)))};Cr.propTypes={id:K().string,hideRadioButtons:K().bool,defaultRadio:K().string,payloadCustom:K().object,isReply:K().bool,setViewState:K().func,extraData:K().object,materialId:K().string},Cr.defaultProps={hideRadioButtons:!1,isReply:!1};var Tr=r(27484),Or=r.n(Tr),xr=r(84110),Ar=r.n(xr);function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rr=function(e){var t,r=Pr((0,n.useState)(e.liked),2),a=r[0],o=r[1],i=he()("LikeButton-icon",{"isLiked animated-like":a});return n.createElement("button",{className:"LikeButton ".concat(e.customClass),type:"button",onClick:function(){o(!a),e.toggleLike(a)}},n.createElement("div",{className:i}),n.createElement("span",null,(t=e.numberOfLikes,e.numberOfLikes>1e3&&(t=(e.numberOfLikes/1e3).toFixed(1)+"K"),t)))};function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Rr.propTypes={toggleLike:K().func,numberOfLikes:K().number,liked:K().bool,customClass:K().string},Rr.defaultProps={toggleLike:function(){},numberOfLikes:0,customClass:""};var Fr=(0,n.memo)((function(e){var t,r=e.text,a=e.id,o=e.detailUrl,i=e.isSecondLevel,l=(0,me.$)().t,s=(0,c.useDispatch)(),u=_r((0,n.useState)(!0),2),m=u[0],d=u[1],f=(0,n.useRef)(null);(0,n.useEffect)((function(){f.current.clientHeight>300&&d(!1)}),[null===(t=f.current)||void 0===t?void 0:t.clientHeight]);(0,n.useEffect)((function(){for(var e=document.getElementsByClassName(a),t=function(t){e[t].addEventListener("click",(function(){s(nt(e[t].getAttribute("data-image")))}))},r=0;r<e.length;r++)t(r);return function(){for(var e=document.getElementsByClassName(a),t=function(t){e[t].removeEventListener("click",(function(){s(nt(e[t].getAttribute("data-image")))}))},r=0;r<e.length;r++)t(r)}}));var p=r.replace(/<img(.*)src="(.*)">/g,'<button class="'.concat(a,' preview-button" aria-label="image preview" data-image="$2"><div><svg aria-hidden="true" focusable="false" role="img" viewBox="0 0 448 512" class="fa-expand"><path fill="currentColor" d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"></path></svg></div><img$1 src="$2" loading="lazy"></button>')),y=he()("ContentMardown",{"ContentMardown--hide":!m}),b=he()("ContentMardown-gradient",{"ContentMardown-gradient--link":i});return n.createElement("div",{className:y},n.createElement("div",{className:"ContentMardown-text Content-body-text",dangerouslySetInnerHTML:{__html:p},ref:f}),!m&&n.createElement(n.Fragment,null,n.createElement("div",{className:b}),i?n.createElement("a",{className:"ContentMardown-link",href:o,target:"_blank"},n.createElement(de.FontAwesomeIcon,{icon:fe.ptq}),l("materialView.card.seeMore")):n.createElement("button",{className:"ContentMardown-button",onClick:function(){d(!0)}},n.createElement(de.FontAwesomeIcon,{icon:fe.ptq}),l("materialView.card.seeMore"))))}));Fr.propTypes={text:K().string,id:K().oneOfType([K().string,K().number]),detailUrl:K().string,isSecondLevel:K().bool},Fr.defaultProps={text:"",isSecondLevel:!1};r(67763),r(25054),r(15001);function Lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Or().extend(Ar());var Dr=function(e){var t=(0,me.$)().t,r=(0,c.useDispatch)(),a=Lr((0,n.useState)(!1),2),o=a[0],i=a[1],l=Lr((0,n.useState)(!1),2),s=l[0],u=l[1],m=e.content,d=m.author,f=m.timestamp,p=m.content,y=m.liked,b=m.objectType,h=m.actions,v=m.payload,g=(m.id,(0,c.useSelector)((function(e){return e.get("header").get("locale")})).split(/-(.*)/)[0]),w=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("freeAccess")||!1})),E=he()("Content",{"Content--main":!e.secondLevel,"Content--secondary":e.secondLevel,"Content--last":e.lastItem,"Content--noBorder":e.noBorder,"Content--editorOpen":s});return d?n.createElement("div",{className:E},n.createElement("div",{className:"Content-author"},n.createElement("figure",{className:"Content-author-avatar"},n.createElement("img",{src:d.avatar,alt:d.name,loading:"lazy"})),n.createElement("div",null,n.createElement("p",{className:"Content-author-name"},d.name),"Estudiante"!==d.role&&n.createElement("p",{className:"Content-author-role"},d.role,n.createElement("span",{className:"Content-point"})),n.createElement("a",{href:e.detailUrl,target:"_blank",className:"Content-timestamp"},Or()(f).locale(g||"es").fromNow()))),n.createElement("div",{className:"Content-body"},n.createElement("div",{className:"Content-body-like"},n.createElement(Rr,{toggleLike:function(t){if(!o&&!w){var n={parentIndex:e.parentIndex,index:e.index,nLikes:e.content.nLikes,type:"comment"===b?"contributions":"questions"};t?n.nLikes-=1:n.nLikes+=1,r(function(e){return{type:x,payload:e}}(n));var a=v.like.url,l=v.like.parameters[0],c=new FormData;for(var s in l)c.append(s,l[s]);xe(!0).post(a,c).then((function(e){i(!1)})).catch((function(e){throw i(!1),new Error(e)}))}},numberOfLikes:e.content.nLikes,liked:y})),n.createElement("div",null,n.createElement(Fr,{key:"content-markdown-".concat(e.content.id),id:e.content.id,text:p,detailUrl:e.detailUrl,isSecondLevel:e.secondLevel})),!e.secondLevel&&!w&&n.createElement(Cr,{id:"r2pl1-".concat(e.content.id),payloadCustom:e.content.payload.create,defaultRadio:"comment"===e.content.objectType?"comments":"questions",setViewState:function(e){u("input"!==e)},hideRadioButtons:!0,isReply:!0,extraData:{parentIndex:e.parentIndex,index:e.index}})),h.deletable&&n.createElement("div",{className:"Content-delete"},n.createElement("button",{className:"Content-delete-button",type:"button",onClick:function(){if(!o){var t={parentIndex:e.parentIndex,index:e.index};i(!0);var n=v.delete.url;xe(!0).post(n).then((function(){"comment"===b&&(r(function(e){return{type:k,payload:e}}(t)),r(function(e){return{type:M,payload:e}}())),"discussion"!==b&&"material"!==b||(r(function(e){return{type:C,payload:e}}(t)),r(function(e){return{type:_,payload:e}}())),i(!1)})).catch((function(e){throw i(!1),new Error(e)}))}},"aria-label":t("materialView.card.deleteMessage")},n.createElement(de.FontAwesomeIcon,{icon:ye.I7k}),n.createElement("div",{className:"Content-delete-tooltip"},n.createElement("p",null,t("materialView.card.deleteMessage")))))):null};Dr.propTypes={content:K().shape({timestamp:K().string,author:K().shape({avatar:K().string,name:K().string,role:K().string}),content:K().string,liked:K().bool,nLikes:K().number,id:K().number,objectType:K().string,actions:K().shape({likeable:K().bool,deletable:K().bool}),payload:K().shape({delete:K().shape({url:K().string,parameters:K().array}),like:K().shape({url:K().string,parameters:K().array}),create:K().shape({url:K().string,parameters:K().array})})}),secondLevel:K().bool,lastItem:K().bool,noBorder:K().bool,index:K().number,parentIndex:K().number,detailUrl:K().string},Dr.defaultProps={parentIndex:void 0};var Ur=function(e){var t=(0,me.$)().t,r=e.cards,a=r.subcards,o=r.nSubcards,i=r.detailUrl;return n.createElement(J.Zb,{isDark:!0,customClass:"CommunityCard"},n.createElement(Dr,{index:e.index,content:e.cards,noBorder:a&&a.length<=0,detailUrl:i}),a.slice(0,2).map((function(t,r){return n.createElement(Dr,{secondLevel:!0,index:r,parentIndex:e.index,lastItem:r===a.length-1||1===r,content:t,key:"content-".concat(t.id,"-").concat(r),detailUrl:i})})),o>2&&n.createElement("div",{className:"CommunityCard-cta"},n.createElement("a",{href:i,target:"_blank"},n.createElement(de.FontAwesomeIcon,{icon:fe.gJF}),o," ",t("materialView.card.answers"))))};function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ur.propTypes={cards:K().shape({id:K().number,subcards:K().array,nSubcards:K().number,detailUrl:K().string}),index:K().number},Ur.defaultProps={cards:{}};var Hr=0,$r="top",Kr=function(e){var t,r=(0,c.useDispatch)(),a=qr((0,n.useState)($r),2),o=a[0],l=a[1],s=qr((0,n.useState)(!1),2),u=s[0],m=s[1],d=(0,c.useSelector)((function(e){return e.get("community").get("questions")})).toJS(),f=(0,c.useSelector)((function(e){return e.get("header").get("isLogged")})),p=function(){m(!0),function(e,t,r,n,a){return xe(!0,{headers:{"api-is-logged":arguments.length>5&&void 0!==arguments[5]&&arguments[5]}}).get(ne(e,t,r,n,a)).then((function(e){return e.data}))}(e.courseSlug,e.materialId,e.materialSlug,Hr,o,f).then((function(e){var t;r(1===Hr?(t=(0,i.fromJS)(e),{type:N,payload:t}):function(e){return{type:j,payload:e}}((0,i.fromJS)(e.cards))),m(!1)})).catch((function(e){throw new Error(e)}))};return n.createElement(n.Fragment,null,u&&n.createElement("div",{className:"Contributions"},n.createElement("div",{className:"Contributions-mock"},n.createElement("div",{className:"Contributions-mock--line"}),n.createElement("div",{className:"Contributions-mock--card one"}),n.createElement("div",{className:"Contributions-mock--card"}),n.createElement("div",{className:"Contributions-mock--card"}))),n.createElement(At,{filters:d.filters,orderBy:o,setOrderBy:l}),n.createElement(xt,{enabled:!u,fetchElements:function(){var t,r,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if($r!==o&&((0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_community",{type:"Discussions order",orderBy:o,materialId:e.materialId})}),$r=o,p()),n){var a;if((null===(a=d.pagination)||void 0===a?void 0:a.nPages)===Hr)return;Hr+=1}else Hr=1;0!==(null===(t=d.cards)||void 0===t?void 0:t.length)&&1===Hr&&d.filters?Hr=parseInt(null===(r=d.pagination)||void 0===r?void 0:r.page,10):p()},delay:500,scrollParent:e.scrollRef,hooksDependencies:[o]},(null===(t=d.cards)||void 0===t?void 0:t.length)>0&&d.cards.map((function(e,t){return n.createElement(Ur,{index:t,key:"question-".concat(t),cards:e})}))))};Kr.propTypes={courseSlug:K().string,materialId:K().string,materialSlug:K().string,scrollRef:K().object};var Jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.map((function(e){e.subcards.slice(0,2).map((function(e){return t.push(e.id)})),t.push(e.id)})),t.toString()};function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){Yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.cards,n=function(e){for(var n=0;n<r.length;n++){if(parseInt(t[e],10)===r[n].id){r[n].liked=!0;break}var a=r[n].subcards.slice(0,2).findIndex((function(r){return r.id===parseInt(t[e],10)}));if(a>-1){r[n].subcards[a].liked=!0;break}}},a=0;a<t.length;a++)n(a);return Gr(Gr({},e),{},{cards:r})};function Qr(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tn=0,rn="top",nn=function(e){var t,r=(0,c.useDispatch)(),a=Xr((0,n.useState)(rn),2),o=a[0],l=a[1],s=Xr((0,n.useState)(!1),2),u=s[0],m=s[1],d=(0,c.useSelector)((function(e){return e.get("community").get("contributions")})).toJS(),f=(0,c.useSelector)((function(e){return e.get("header").get("isLogged")})),p=function(){m(!0),function(e,t,r,n,a){return xe(!0,{headers:{"api-is-logged":arguments.length>5&&void 0!==arguments[5]&&arguments[5]}}).get(re(e,t,r,n,a)).then((function(e){return e.data}))}(e.courseSlug,e.materialId,e.materialSlug,tn,o,f).then((function(e){y(e),m(!1)})).catch((function(e){throw new Error(e)}))},y=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,W.clientRequest)("enigma",{method:"get",requestURL:ie(Jr(t.cards)),payload:{}});case 2:n=e.sent,r(1===tn?(a=(0,i.fromJS)(Zr(t,n.comments)),{type:w,payload:a}):tt((0,i.fromJS)(Zr(t,n.comments))));case 4:case"end":return e.stop()}var a}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Qr(o,n,a,i,l,"next",e)}function l(e){Qr(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.createElement(n.Fragment,null,u&&n.createElement("div",{className:"Contributions"},n.createElement("div",{className:"Contributions-mock"},n.createElement("div",{className:"Contributions-mock--line"}),n.createElement("div",{className:"Contributions-mock--card one"}),n.createElement("div",{className:"Contributions-mock--card"}),n.createElement("div",{className:"Contributions-mock--card"}))),n.createElement(At,{filters:d.filters,orderBy:o,setOrderBy:l}),n.createElement(xt,{enabled:!u,fetchElements:function(){var t,r,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(rn!==o&&((0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_community",{type:"Contributions order",orderBy:o,materialId:e.materialId})}),rn=o,p()),n){var a;if((null===(a=d.pagination)||void 0===a?void 0:a.nPages)===tn)return;tn+=1}else tn=1;0===(null===(t=d.cards)||void 0===t?void 0:t.length)||1!==tn?p():tn=parseInt(null===(r=d.pagination)||void 0===r?void 0:r.page,10)},delay:500,scrollParent:e.scrollRef,hooksDependencies:[o]},(null===(t=d.cards)||void 0===t?void 0:t.length)>0&&d.cards.map((function(e,t){return n.createElement(Ur,{index:t,key:"contribution-".concat(t,"-").concat(e.id),cards:e})}))))};function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return on(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}nn.propTypes={courseSlug:K().string,materialId:K().string,materialSlug:K().string,scrollRef:K().object},nn.defaultProps={};var ln=function(e){var t=(0,me.$)().t,r=(0,c.useDispatch)(),a=(0,c.useSelector)((function(e){return e.get("header").get("isLogged")})),o=(0,n.useRef)(null),i=(0,n.useRef)(null),l=an((0,n.useState)(e.isMobile),2),s=l[0],u=l[1],m=an((0,n.useState)([]),2),d=m[0],f=m[1],p=function(){s?u(!1):(u(!0),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_syllabus",{type:"Show syllabus",materialId:e.materialId})})),r(rt(s))};(0,n.useEffect)((function(){y()}),[]);var y=function(){if(!e.mockData)return function(e){return xe(!0,{headers:{"api-is-logged":arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}).get(G(e)).then((function(e){return e.data}))}(e.courseSlug,a).then((function(t){f(t),o.current&&i.current&&!e.isMobile&&(o.current.scrollIntoView(),i.current.scroll(0,i.current.scrollTop-92))})).catch((function(e){throw new Error(e)}));f(e.mockData)};if(0===d.length)return null;var b=he()("Syllabus",{"Syllabus--open":s,"Syllabus--close":!s,"Syllabus--mobile":e.isMobile}),h=s?"materialView.syllabus.hideSyllabus":"materialView.syllabus.showSyllabus";return n.createElement(n.Fragment,null,s&&n.createElement("button",{className:"Syllabus-backdrop",onClick:p}),n.createElement("div",{className:b,ref:i,style:{maxHeight:e.isMobile?"":"calc(100vh - ".concat(e.headerHeight,"px)"),top:"".concat(e.headerHeight,"px")}},n.createElement("div",{className:"Syllabus-container"},!e.isMobile&&n.createElement("div",{className:"Syllabus-header"},n.createElement("button",{onClick:p,"aria-label":t(h),className:"Syllabus-toggle"},n.createElement(de.FontAwesomeIcon,{icon:s?ye.A35:ye._tD})),n.createElement("div",{className:"Syllabus-course"},n.createElement("figure",{className:"Syllabus-course-badge"},n.createElement("img",{src:e.courseBadge,alt:e.courseTitle})),n.createElement("a",{href:e.courseUrl,className:"Syllabus-course-title"},e.courseTitle))),d.map((function(r,a){return n.createElement(n.Fragment,{key:a},function(e,t){var r=he()("Syllabus-divider",{"--seen":e.seen});return n.createElement("div",{key:"divider-index-".concat(t),className:r,"data-testid":"Syllabus-divider"},n.createElement("span",{className:"Syllabus-divider-icon"},n.createElement(de.FontAwesomeIcon,{icon:ye.G0d})),n.createElement("div",{className:"Syllabus-divider-text"},n.createElement("p",null,e.title)))}(r,a),r.materials.map((function(t,r){return function(t,r){var a=he()("Syllabus-class",{"--active":t.id===parseInt(e.materialId,10)}),i=he()("Syllabus-class-container",{"--seen":e.freeAccess&&"undefined"!=typeof window?localStorage.getItem("materialSeen-".concat(t.id)):t.seen});return n.createElement("a",{key:"class-index-".concat(r),className:a,"data-testid":"Syllabus-class",href:t.link,ref:t.id===parseInt(e.materialId,10)?o:null},n.createElement("div",{className:i},n.createElement("span",{className:"Syllabus-class-container-icon"},t.index),n.createElement("div",{className:"Syllabus-class-container-text"},n.createElement("p",null,t.name))))}(t,r)})),function(e,r){return null!==e.quiz?n.createElement("a",{key:"class-quiz-".concat(r),className:"Syllabus-quiz","data-testid":"Syllabus-quiz",href:e.quiz.url},n.createElement("div",{className:"Syllabus-quiz-container"},n.createElement("span",{className:"Syllabus-quiz-container-icon"},n.createElement(de.FontAwesomeIcon,{icon:ye.BDt})),n.createElement("div",{className:"Syllabus-quiz-container-text"},n.createElement("p",null,t("materialView.header.quiz")," ",e.title)))):null}(r,a))})))))};function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ln.propTypes={materialId:K().string,materialSlug:K().string,courseSlug:K().string,courseUrl:K().string,courseBadge:K().string,courseTitle:K().string,isMobile:K().bool,mockData:K().array,headerHeight:K().number,freeAccess:K().bool},ln.defaultProps={isMobile:!1,headerHeight:52,freeAccess:!1};var mn=function(e){var t=(0,me.$)().t,r=sn((0,n.useState)("resources"),2),a=r[0],o=r[1],i=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("newBookmark")})),l=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("commentsNumber")})),s=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("discussionsNumber")})),u=e.video.movin?e.video.movin.subtitles.find((function(e){return"captions"===e.type})):null;return(0,n.useEffect)((function(){i&&o("bookmarks")}),[i]),n.createElement(J.l8,{key:"tabs-".concat(e.isMobile),customClass:"Tabs",defaultTab:a},n.createElement(J.tJ,{key:"syllabus",title:t("materialView.tabs.syllabus"),shouldShow:e.isMobile},n.createElement(ln,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,courseTitle:e.courseTitle,courseBadge:e.courseBadge,isMobile:e.isMobile,freeAccess:e.freeAccess,headerHeight:0})),n.createElement(J.tJ,{key:"resources",title:t("materialView.tabs.resourcesTitle"),shouldShow:"video"===e.type},n.createElement(Qe,e)),n.createElement(J.tJ,{key:"contributions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:t("materialView.tabs.contributionsTitle",{quantity:l})}}),shouldShow:e.isMobile},n.createElement("div",{className:"Tabs-wrapper"},!e.freeAccess&&n.createElement(Cr,{id:"b453-comments",defaultRadio:"comments",hideRadioButtons:!0}),n.createElement(nn,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug}))),n.createElement(J.tJ,{key:"questions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:t("materialView.tabs.questionsTitle",{quantity:s})}}),shouldShow:e.isMobile},n.createElement("div",{className:"Tabs-wrapper"},n.createElement(Cr,{id:"b453-questions",defaultRadio:"questions",hideRadioButtons:!0}),n.createElement(Kr,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug}))),n.createElement(J.tJ,{key:"transcript",title:t("materialView.tabs.transcriptTitle"),shouldShow:!e.isMobile&&u},n.createElement(It,cn({},u,{materialId:e.materialId}))),n.createElement(J.tJ,{key:"bookmarks",title:t("materialView.tabs.bookmarksTitle"),shouldShow:"video"===e.type},n.createElement(pt,e)))};function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}mn.propTypes={courseBadge:K().string,courseTitle:K().string,courseSlug:K().string,materialId:K().string,materialSlug:K().string,isMobile:K().bool,video:K().shape({movin:K().oneOfType(K().object,K().string)}),type:K().oneOf(["video","lecture","audio"]),commentsNumber:K().number,discussionsNumber:K().number,freeAccess:K().bool},mn.defaultProps={isMobile:!1,freeAccess:!1};var fn=function(e){var t=(0,me.$)().t,r=(0,se.fC)("");(0,n.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){document.removeEventListener("keydown",a,!1)}}),[]);var a=function(t){27===t.keyCode&&e.close()};return n.createElement("div",{className:"ReportIssue"},n.createElement("button",{className:"ReportIssue-backdrop",onClick:e.close}),n.createElement(J.Zb,{customClass:"ReportIssue-modal"},n.createElement("div",{className:"ReportIssue-closeModal"},n.createElement("button",{type:"button",onClick:e.close,"aria-label":"Close Modal"},n.createElement(de.FontAwesomeIcon,{icon:fe.NBC}))),n.createElement("div",{className:"ReportIssue-content"},n.createElement("div",{className:"ReportIssue-title"},e.reportSent?n.createElement("div",{className:"ReportIssue-title-thanks"},n.createElement(de.FontAwesomeIcon,{icon:fe.LEp})):n.createElement("div",{className:"ReportIssue-title-icon"},n.createElement(de.FontAwesomeIcon,{icon:fe.RrC})),n.createElement("p",{className:"ReportIssue-title-text"},e.reportSent?t("materialView.reportIssue.titleThanks"):t("materialView.reportIssue.title"))),n.createElement("div",{className:"ReportIssue-msg"},n.createElement("p",null,e.reportSent?t("materialView.reportIssue.messageThanks"):t("materialView.reportIssue.message"))),!e.reportSent&&n.createElement("textarea",dn({className:"ReportIssue-input",placeholder:t("materialView.reportIssue.placeholder")},r))),n.createElement("div",{className:"ReportIssue-buttons"},e.reportSent?n.createElement("button",{type:"button",className:"ReportIssue-buttons-copy",onClick:e.close},t("materialView.reportIssue.buttonReturn")):n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"ReportIssue-buttons-copy",onClick:function(){e.onSubmit(r.value)}},t("materialView.reportIssue.buttonSend")),n.createElement("button",{type:"button",className:"ReportIssue-buttons-cancel",onClick:e.close},t("materialView.reportIssue.buttonCancel"))))))};function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}fn.propTypes={close:K().func,onSubmit:K().func,reportSent:K().bool},fn.defaultProps={close:function(){},onSubmit:function(){},reportSent:!1};var bn=function(e){var t=(0,me.$)().t,r=(0,c.useDispatch)(),a=pn((0,n.useState)(!1),2),o=a[0],i=a[1],l=pn((0,n.useState)(!1),2),s=l[0],u=l[1],m=function(){e.materialParams.isLast?(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_class_header",{type:"Go to exam",materialId:e.materialId})}):(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_class_header",{type:"Go to next class",materialId:e.materialId})}),window.location.href="".concat(e.materialParams.nextMaterialUrl)},d=function(){r(rt(o)),i(!o)},f=""===e.materialParams.nextMaterialUrl,p=he()("Header-course-actions-next",{"border-radius-left":null===e.materialParams.previousMaterialUrl,disabled:f}),y=e.materialParams.isLast?t("materialView.header.takeExam"):e.materialParams.nextMaterialName,b=function(){return e.freeAccess&&e.materialParams.isLast?null:n.createElement("button",{className:p,type:"button",onClick:m,"aria-label":f?"":y,disabled:f},n.createElement(de.FontAwesomeIcon,{icon:fe._Iw}),e.isMobile||f?"":n.createElement("span",null,y),f?"":n.createElement("div",{className:"Header-tooltip"},n.createElement("p",null,y)))};return n.createElement("div",{className:"Header material-".concat(e.materialType)},n.createElement("div",{className:"Header-course"},n.createElement("div",{className:"Header-course-info"},n.createElement("img",{className:"Header-course-info-badge",src:e.courseBadge,alt:e.courseTitle,loading:"lazy"}),n.createElement("div",{className:"Header-course-info-content"},n.createElement("a",{href:e.courseUrl},n.createElement("h1",null,e.courseTitle)),n.createElement("img",{src:e.teacherAvatar,alt:e.teacherName,loading:"lazy"}),n.createElement("h3",null,e.teacherName))),n.createElement("div",{className:"Header-course-actions"},null!==e.materialParams.previousMaterialUrl&&n.createElement("button",{className:"Header-course-actions-prev",type:"button",onClick:function(){(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_class_header",{type:"Go to previous class",materialId:e.materialId})}),window.location.href="".concat(e.materialParams.previousMaterialUrl)},"aria-label":"Clase anterior"},n.createElement(de.FontAwesomeIcon,{icon:fe.s87}),n.createElement("div",{className:"Header-tooltip"},n.createElement("p",null,e.materialParams.previousMaterialName))),n.createElement(b,null))),n.createElement("div",{className:"Header-class"},n.createElement("div",{className:"Header-class-title"},n.createElement("h2",null,e.name,n.createElement("span",null,e.materialParams.actualMaterial,"/",e.materialParams.totalMaterial))),!e.freeAccess&&n.createElement("div",{className:"Header-class-report"},n.createElement("button",{type:"button",onClick:d,"aria-label":t("materialView.Header.reportIssue")},n.createElement(de.FontAwesomeIcon,{icon:fe.RrC}),n.createElement("div",{className:"Header-tooltip"},n.createElement("p",null,t("materialView.Header.reportIssue")))))),"lecture"===e.materialType&&n.createElement("div",{className:"Header-lecture"},n.createElement(de.FontAwesomeIcon,{icon:ye.cwv}),n.createElement("p",null,t("materialView.header.materialLecture"))),o&&n.createElement(fn,{close:d,onSubmit:function(t){var r,n={courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,errorReport:t};(r=n,xe(!0).post(ee(r.courseSlug,r.materialId,r.materialSlug),{message:r.errorReport}).then((function(e){return e.data}))).then((function(){u(!0),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_class_header",{type:"Send class report",errorReport:t,materialId:e.materialId})})})).catch((function(e){throw new Error(e)}))},reportSent:s}))};bn.propTypes={courseTitle:K().string,courseSlug:K().string,courseUrl:K().string,courseBadge:K().string,teacherAvatar:K().string,teacherName:K().string,name:K().string,materialId:K().string,materialSlug:K().string,materialParams:K().shape({totalMaterial:K().number,actualMaterial:K().number,nextMaterialUrl:K().string,nextMaterialName:K().string,previousMaterialUrl:K().string,previousMaterialName:K().string,isLast:K().bool}),materialType:K().oneOf(["video","lecture","audio"]),isMobile:K().bool,freeAccess:K().bool},bn.defaultProps={freeAccess:!1};var hn=r(51417);function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wn=function(e){var t=(0,me.$)().t,r=vn((0,n.useState)(!1),2),a=r[0],o=r[1],i="https://platzi.com".concat(window.location.pathname,"?time=").concat(e.timePaused);return n.createElement("div",{className:"ShareUrlModal"},n.createElement("button",{className:"ShareUrlModal-backdrop",onClick:e.close}),n.createElement(J.Zb,{customClass:"ShareUrlModal-modal"},n.createElement("div",{className:"ShareUrlModal-closeModal"},n.createElement("button",{type:"button",onClick:e.close,"aria-label":"Close Modal"},n.createElement(de.FontAwesomeIcon,{icon:fe.NBC}))),n.createElement("div",{className:"ShareUrlModal-content"},n.createElement("div",{className:"ShareUrlModal-title"},n.createElement("div",{className:"ShareUrlModal-title-icon"},n.createElement(de.FontAwesomeIcon,{icon:fe.zBy})),n.createElement("p",{className:"ShareUrlModal-title-text"},t("materialView.shareUrlModal.title"))),n.createElement("textarea",{className:"ShareUrlModal-input",readOnly:"true",value:i})),n.createElement("div",{className:"ShareUrlModal-buttons"},n.createElement("button",{type:"button",className:"ShareUrlModal-buttons-copy",onClick:function(){navigator.clipboard.writeText(i).then((function(){o(!0)}),(function(e){throw new Error(e)})),setTimeout((function(){e.close()}),1500)}},t("materialView.shareUrlModal.buttonCopy"),a&&n.createElement(de.FontAwesomeIcon,{icon:fe.LEp})),n.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(i,"&text=").concat(e.courseTitle),className:"ShareUrlModal-buttons-social",target:"_blank",onClick:function(){setTimeout((function(){e.close()}),1500)}},n.createElement(de.FontAwesomeIcon,{icon:hn.mdU})),n.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(i),className:"ShareUrlModal-buttons-social",target:"_blank",onClick:function(){setTimeout((function(){e.close()}),1500)}},n.createElement(de.FontAwesomeIcon,{icon:hn.neY})))))};wn.propTypes={close:K().func,timePaused:K().number,courseTitle:K().string},wn.defaultProps={close:function(){}};var En=function(e){var t=e.radius-2*e.stroke,r=2*t*Math.PI,a=r-e.progress/100*r;return n.createElement("svg",{height:2*e.radius,width:2*e.radius},n.createElement("circle",{stroke:"white",fill:"transparent",strokeWidth:e.stroke,strokeDasharray:"".concat(r," ").concat(r),style:{strokeDashoffset:a},r:t,cx:e.radius,cy:e.radius}))};function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}En.propTypes={radius:K().number,stroke:K().number,progress:K().number};var In=!1,Nn=function(e){var t=(0,me.$)().t,r=kn((0,n.useState)(0),2),a=r[0],o=r[1],i=0;(0,n.useEffect)((function(){l()}),[]);var l=function t(){!1===In&&window.setTimeout((function(){if(++i<100){if(o(i),!1===In)return t()}else if(!1===In)return e.startNextMaterial();return null}),50)};return n.createElement("div",{className:"NextMaterial"},n.createElement("p",{className:"NextMaterial-subtitle"},t("materialView.nextMaterial.subtitle")),e.isLast?n.createElement("p",{className:"NextMaterial-title"},t("materialView.nextMaterial.isLast")):n.createElement("p",{className:"NextMaterial-title"},e.nextMaterialName),n.createElement("div",{className:"NextMaterial-link"},n.createElement(En,{radius:40,stroke:4,progress:a}),n.createElement("button",{type:"button",className:"NextMaterial-link-button","aria-label":"On click go to next class",onClick:e.startNextMaterial},n.createElement(de.FontAwesomeIcon,{icon:pe.zc}))),n.createElement("button",{type:"button",className:"NextMaterial-button",onClick:function(){In=!0,e.cancelNextMaterial()}},t("materialView.nextMaterial.button")))};Nn.propTypes={cancelNextMaterial:K().func,startNextMaterial:K().func,nextMaterialName:K().string,isLast:K().bool},Nn.defaultProps={cancelNextMaterial:function(){},startNextMaterial:function(){},nextMaterialName:"",isLast:!1};var jn=r(97436),Cn=(r(91893),r(50529),r(83514),r(14135)),Tn=r.n(Cn);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Rn(e);if(t){var a=Rn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Mn(this,r)}}function Mn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _n=jn.default.getComponent("Component"),Bn=jn.default.getComponent("MenuButton"),Fn=jn.default.getComponent("Menu"),Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(o,e);var t,r,n,a=Pn(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,e,t)}return t=o,(r=[{key:"createEl",value:function(){return jn.default.dom.createEl("div",{className:"SettingButton vjs-icon-cog vjs-control ".concat(this.buildCSSClass())})}},{key:"createMenu",value:function(){return new Fn(this.player())}}])&&xn(t.prototype,r),n&&xn(t,n),o}(Bn);_n.registerComponent("SettingButton",Ln);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Hn(e);if(t){var a=Hn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return zn(this,r)}}function zn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $n=jn.default.getComponent("Component"),Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(o,e);var t,r,n,a=qn(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);return(r=a.call(this,e,t)).on("click",(function(e){t.onServerChange({serverId:e.target.value}),r.createOptions(e.target.value)})),r}return t=o,(r=[{key:"createOptions",value:function(e){var t=this;this.el_.innerHTML="",Object.keys(this.options_.serverMap).forEach((function(r){var n=t.options_.serverMap[r],a=document.createElement("button");e===r&&a.setAttribute("class","--acive"),a.setAttribute("value",n.id),a.textContent="Server ".concat(n.id.split("server").join("")),t.el_.appendChild(a)}))}},{key:"createEl",value:function(){return jn.default.dom.createEl("div",{id:"ServerPicker",className:"ServerPicker"})}},{key:"ready",value:function(){this.createOptions(this.options_.currentServer)}}])&&Dn(t.prototype,r),n&&Dn(t,n),o}($n);$n.registerComponent("ServerPicker",Kn);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xn(e);if(t){var a=Xn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Qn(this,r)}}function Qn(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ea=jn.default.getComponent("Component"),ta=jn.default.getComponent("MenuButton"),ra=jn.default.getComponent("Menu"),na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(o,e);var t,r,n,a=Zn(o);function o(){return Wn(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"createEl",value:function(){var e=jn.default.dom.createEl("div",{className:"BackwardButton icon-backward vjs-control ".concat(this.buildCSSClass()),id:"backward-player-button"});return e.innerHTML='<svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--backward"><path fill="currentColor" d="M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"></path></svg>',e}},{key:"createMenu",value:function(){return new ra(this.player())}}])&&Gn(t.prototype,r),n&&Gn(t,n),o}(ta);ea.registerComponent("BackwardButton",na);function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ua(e);if(t){var a=ua(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return sa(this,r)}}function sa(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ma=jn.default.getComponent("Component"),da=jn.default.getComponent("MenuButton"),fa=jn.default.getComponent("Menu"),pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(o,e);var t,r,n,a=ca(o);function o(){return oa(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"createEl",value:function(){var e=jn.default.dom.createEl("div",{className:"ForwardButton icon-forward vjs-control",id:"forward-player-button"});return e.innerHTML='<svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--forward"><path fill="currentColor" d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"></path></svg>',e}},{key:"createMenu",value:function(){return new fa(this.player())}}])&&ia(t.prototype,r),n&&ia(t,n),o}(da);ma.registerComponent("ForwardButton",pa);function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ba(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wa(e);if(t){var a=wa(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ga(this,r)}}function ga(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ea=jn.default.getComponent("Component"),ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(o,e);var t,r,n,a=va(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,e,t)}return t=o,(r=[{key:"createEl",value:function(){return jn.default.dom.createEl("div",{className:"PauseNextButton",id:"PauseNextButton"})}},{key:"ready",value:function(){var e=document.createElement("input"),t=document.createElement("label"),r=document.createElement("span");r.textContent="Autoplay",r.setAttribute("class","PauseNextButton-text"),t.textContent="Autopause",t.setAttribute("class","PauseNextButton-label".concat(this.player_.autoplay?" active":"")),t.setAttribute("for","autopause"),e.setAttribute("type","checkbox"),e.setAttribute("class","PauseNextButton-input"),e.setAttribute("name","autopause"),e.setAttribute("id","autopause"),this.player_.autoplay&&e.setAttribute("checked","checked"),this.el_.appendChild(r),this.el_.appendChild(t),this.el_.appendChild(e)}}])&&ba(t.prototype,r),n&&ba(t,n),o}(Ea);Ea.registerComponent("PauseNextButton",ka);function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ta(e);if(t){var a=Ta(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ca(this,r)}}function Ca(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oa=jn.default.getComponent("Component"),xa=jn.default.getComponent("MenuButton"),Aa=jn.default.getComponent("Menu"),Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(o,e);var t,r,n,a=ja(o);function o(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e){e.preventDefault();var t=document.getElementById("bookmark-create"),r=document.getElementById("bookmark-share"),n=function(){return document.getElementById("bookmark-share-trigger").click()};t.innerHTML="create bookmark",r.innerHTML="share bookmark",t.addEventListener("click",(function(){return document.getElementById("bookmark-create-trigger").click()})),r.addEventListener("click",(function(){return n}))};return(r=a.call(this,e,t)).on("mouseenter",n),r.on("touchstart",n),r}return t=o,(r=[{key:"createEl",value:function(){var e=jn.default.dom.createEl("div",{className:"BookmarksMenu icon-platzimark vjs-control ".concat(this.buildCSSClass())});return e.innerHTML='<svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--bookmark"><path fill="currentColor" d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"></path></svg>',e}},{key:"createMenu",value:function(){return new Aa(this.player())}}])&&Ia(t.prototype,r),n&&Ia(t,n),o}(xa);Oa.registerComponent("BookmarksMenu",Pa);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Va(e);if(t){var a=Va(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return La(this,r)}}function La(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Da=jn.default.getComponent("Component"),Ua=jn.default.getComponent("MenuButton"),qa=jn.default.getComponent("Menu"),za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(o,e);var t,r,n,a=Fa(o);function o(){return Ra(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"createEl",value:function(){var e=jn.default.dom.createEl("button",{className:"DownloadButton",id:"download-button"});return e.innerHTML="Download subs",e}},{key:"createMenu",value:function(){return new qa(this.player())}}])&&_a(t.prototype,r),n&&_a(t,n),o}(Ua);Da.registerComponent("DownloadButton",za);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e){return function(e){if(Array.isArray(e))return Ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ka(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qa(e);if(t){var a=Qa(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Za(this,r)}}function Za(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xa=[.5,.85,1,1.25,1.5,1.75,2],eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(i,e);var t,r,a,o=Ya(i);function i(){var e,t;Ja(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Za(t,(e=t=o.call.apply(o,[this].concat(n)),t.state={currentServer:t.props.initialServer,isFullScreen:!1},t.setCurrentServer=function(e){return t.setState({currentServer:e})},t.configurePlayer=function(){t.player.log.level(t.props.isOrganizer?"info":"off"),t.setPlayerSource(),t.player.currentTime(t.props.initialTime),t.player.volume(t.props.initialVolume),t.player.chromecast(),t.handlePlayerEvents(),t.props.freeAccess||t.configureBookMarks(),t.configureSeek(),t.configureMenu(),t.player.qualityLevels&&t.player.maxQualitySelector({autoLabel:"Auto ",defaultQuality:1,displayMode:1,index:-4})},t.setPlayerSource=function(){t.serverSource&&t.player.src({src:t.serverSource,type:"hls"===t.sourceType?"application/x-mpegURL":"application/dash+xml"})},t.handleServerChange=function(e){var r=e.serverId,n=t.player.currentTime(),a=t.player.playbackRate();t.setCurrentServer(r),t.setPlayerSource(),t.player.on("loadeddata",(function(){t.player.currentTime(n),t.player.playbackRate(a)})),t.props.onServerChange(r),t.player.play()},t.configureBookMarks=function(){var e=t.player.controlBar.BookmarksMenu.menu.addChild("button",{el:jn.default.dom.createEl("button",{className:"platzimark-button vjs-button vjs-control platzimark-create-button",id:"bookmark-create"})}),r=t.player.controlBar.BookmarksMenu.menu.addChild("button",{el:jn.default.dom.createEl("button",{className:"platzimark-button vjs-button ",id:"bookmark-share"})}),n=function(e){e.preventDefault(),t.player.pause(),t.props.handleBookmarkCreation(Math.floor(t.player.currentTime()))},a=function(e){e.preventDefault(),t.player.pause(),t.props.handleToggleModal(null,Math.floor(t.player.currentTime()))};e.on("click",n),e.on("touchstart",n),r.on("click",a),r.on("touchstart",a)},t.configureSeek=function(){var e=document.getElementById("backward-player-button"),r=document.getElementById("forward-player-button"),n=function(e,r){e.preventDefault();var n=t.player.currentTime();"backward"===r?n>15&&t.player.currentTime(n-15):"forward"===r&&t.player.currentTime(n+15)};e.addEventListener("click",(function(e){return n(e,"backward")})),e.addEventListener("touchstart",(function(e){return n(e,"backward")})),r.addEventListener("click",(function(e){return n(e,"forward")})),r.addEventListener("touchstart",(function(e){return n(e,"forward")}))},t.configureMenu=function(){if(t.player.controlBar.SettingButton.menu.addChild("ServerPicker",{onServerChange:t.handleServerChange,currentServer:t.state.currentServer,serverMap:t.props.serverMap}),!document.getElementById("autopause")){var e=t.player.controlBar.SettingButton.menu.addChild("PauseNextButton",{autoplay:t.props.autoplay}),r=document.getElementById("autopause");r.checked=t.props.autoplay,document.getElementsByClassName("PauseNextButton-label")[0].className=r.checked?"PauseNextButton-label active":"PauseNextButton-label",e.on("click",(function(){var e=document.getElementById("autopause"),r=document.getElementsByClassName("PauseNextButton-label")[0];t.props.setAutoplay(!t.props.autoplay),e.checked=!e.checked,r.className=e.checked?"PauseNextButton-label active":"PauseNextButton-label"}))}t.props.isOrganizer&&t.props.subtitles.length>0&&t.player.controlBar.SettingButton.menu.addChild("DownloadButton").on("click",(function(e){e.preventDefault();var r=$a(t.props.subtitles),n=setInterval((function(e){var t=e.pop(),r=document.createElement("a");r.setAttribute("href",t.source),r.setAttribute("download",t.label),r.setAttribute("target","_blank"),r.click(),0===e.length&&clearInterval(n)}),1e3,r)}))},t.handlePlayerEvents=function(){var e=document.querySelector(".vjs-playback-rate-value");t.player.on("ended",(function(){t.props.onEnded(),t.props.sendEvent("material_view_video_player",{type:"Playback ended",materialId:t.props.materialId})})),t.player.on("error",(function(e){if(4===t.player.error().code){var r=Object.keys(t.props.serverMap).indexOf("serverA"),n=Object.keys(t.props.serverMap).indexOf("serverB"),a=Object.keys(t.props.serverMap).indexOf("serverC");if(r>=0&&"serverA"!==t.state.currentServer)return void t.handleServerChange({serverId:"serverA"});if(n>=0&&"serverB"!==t.state.currentServer)return void t.handleServerChange({serverId:"serverB"});if(a>=0&&"serverC"!==t.state.currentServer)return void t.handleServerChange({serverId:"serverC"})}throw new Error(e)})),t.player.on("firstplay",(function(){0!==t.player.playbackRate()?t.player.playbackRate(t.props.initialPlaybackRate):t.player.playbackRate(1)})),t.player.on("fullscreenchange",(function(){t.setState({isFullScreen:!t.state.isFullScreen}),t.props.sendEvent("material_view_video_player",{type:"Full screen",fullScreen:t.state.isFullScreen,currentVideoTime:t.player.currentTime().toString(),materialId:t.props.materialId})})),t.player.on("loadeddata",(function(){t.player.loadingSpinner.hide()})),t.player.on("loadedmetadata",(function(){t.player.loadingSpinner.show()})),t.player.on("loadstart",(function(){t.player.loadingSpinner.show()})),t.player.on("pause",(function(){t.props.videoDuration-t.player.currentTime()>2&&t.props.sendEvent("material_view_video_player",{type:"Pause",currentTime:t.player.currentTime().toString(),materialId:t.props.materialId})})),t.player.on("play",(function(){t.props.sendEvent("material_view_video_player",{type:"Play",currentTime:t.player.currentTime().toString(),materialId:t.props.materialId})})),t.player.on("playing",(function(){t.player.loadingSpinner.hide();var r=t.player.playbackRate();r!==t.props.initialPlaybackRate&&r>0&&(1!==r?e.classList.add("is-bold"):e.classList.remove("is-bold"))})),t.player.on("timeupdate",(function(){t.props.onTimeUpdate(t.player.currentTime(),t.player.playbackRate())})),t.player.on("volumechange",(function(){var e=t.player.volume();t.props.onVolumeChange(e)}))},t.changeTime=function(e){t.player.currentTime(e),t.props.unsetBookmarkClicked()},t.handlePlayVideo=function(){return t.player.play()},t.handlePauseVideo=function(){return t.player.pause()},e))}return t=i,(r=[{key:"componentDidMount",value:function(){Tn()(jn.default);var e={playToggle:{},volumePanel:{},BackwardButton:{},ForwardButton:{},progressControl:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},RemainingTimeDisplay:{},playbackRateMenuButton:{},subsCapsButton:{},BookmarksMenu:{},SettingButton:{ServerPicker:{},PauseNextButton:{}},chromecast:{},pictureInPictureToggle:{},fullscreenToggle:{}};this.props.freeAccess&&delete e.BookmarksMenu,this.player=(0,jn.default)(this.videoNode,{autoplay:this.props.autoplay,controls:!0,techOrder:["chromecast","html5"],playbackRates:Xa,html5:{vhs:{overrideNative:!jn.default.browser.IS_SAFARI,smoothQualityChange:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},plugins:{chromecast:{addButtonToControlBar:!0,receiverAppID:"54028100"},hotkeys:{volumeStep:.1,seekStep:10,enableModifiersForNumbers:!1,enableVolumeScroll:!1}},inactivityTimeout:2500,controlBar:{children:e}},this.configurePlayer)}},{key:"componentWillReceiveProps",value:function(e){null!==e.playerTime&&e.initialVolume===this.props.initialVolume&&this.changeTime(e.playerTime)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"componentDidUpdate",value:function(e){this.props.togglePlay!==e.togglePlay&&(this.props.togglePlay?this.player.play():this.player.pause())}},{key:"currentServer",get:function(){return this.state.currentServer in this.props.serverMap?this.state.currentServer:Object.keys(this.props.serverMap)[0]}},{key:"serverSource",get:function(){return this.sourceType?this.props.serverMap[this.currentServer][this.sourceType]:null}},{key:"sourceType",get:function(){var e=this.props.serverMap[this.currentServer].dash||!1,t=this.props.serverMap[this.currentServer].hls||!1,r=jn.default.browser.IS_IPAD||jn.default.browser.IS_IPHONE||jn.default.browser.IS_IOS;return(jn.default.browser.IS_CHROME||jn.default.browser.IS_FIREFOX)&&e&&!r?"dash":t?"hls":"url"}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"VideoPlayer"},n.createElement("div",{"data-vjs-player":!0},n.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js",preload:"auto",crossOrigin:"anonymous"},this.props.subtitles.map((function(e,t){return n.createElement("track",{kind:e.type,src:e.source,srcLang:e.language,label:e.label,key:"track-".concat(t)})})))))}}])&&Wa(t.prototype,r),a&&Wa(t,a),i}(n.Component);eo.propTypes={serverMap:K().object,initialServer:K().string,autoplay:K().bool,setAutoplay:K().func,handleBookmarkCreation:K().func,handleToggleModal:K().func,subtitles:K().array,initialTime:K().number,initialVolume:K().number,initialPlaybackRate:K().oneOfType([K().string,K().number]),onTimeUpdate:K().func,onVolumeChange:K().func,onEnded:K().func,unsetBookmarkClicked:K().func,onServerChange:K().func,playerTime:K().number,sendEvent:K().func,togglePlay:K().bool,isOrganizer:K().bool,materialId:K().string,videoDuration:K().number,freeAccess:K().bool},eo.defaultProps={autoplay:!0,isOrganizer:!1,freeAccess:!1,subtitles:[],serverMap:{},onTimeUpdate:function(){},onVolumeChange:function(){},onEnded:function(){},unsetBookmarkClicked:function(){},onServerChange:function(){},setAutoplay:function(){},sendEvent:function(){}};const to=eo;function ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return no(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return no(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ao=function(e){var t,r=(0,c.useDispatch)(),a=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("onClickBookmark")})),o=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("playVideo")})),i=(0,c.useSelector)((function(e){return e.get("contactInfo").get("isOrganizer")})),l=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("freeAccess")||!1})),s=ro((0,n.useState)(!1),2),m=s[0],d=s[1],p=ro((0,n.useState)(null),2),y=p[0],b=p[1],h=ro((0,n.useState)(!1),2),v=h[0],g=h[1],w=ro((0,n.useState)(0),2),E=w[0],k=w[1],S=ro((0,n.useState)(null),2),I=S[0],N=S[1],j=ro((0,n.useState)(o),2),C=j[0],T=j[1],O=ro(u.hooks.useLocalStorage("initialVolume",1),2),x=O[0],A=O[1],P=ro(u.hooks.useLocalStorage("initialServer",e.player.defaultServer),2),M=P[0],R=P[1],_=ro(u.hooks.useLocalStorage("initialAutoplay",e.player.autoplay),2),B=_[0],F=_[1],L=ro(u.hooks.useLocalStorage("initialPlayback",1),2),V=L[0],D=L[1];(0,n.useEffect)((function(){if(null!==a&&N(a),"undefined"!=typeof window){-1!==window.location.href.indexOf("?time=")&&k(parseInt(window.location.search.replace(/^\D+/g,""),10));var t=localStorage.getItem("player-time-".concat(window.location.pathname))||e.player.currentTime,r=e.duration-t;t>0&&r>10&&k(parseInt(t,10))}}),[a]),(0,n.useEffect)((function(){T(o)}),[o]);var U=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.preventDefault(),t.stopPropagation()),r&&(b(r),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_bookmarks",{type:"Share",playerTime:r.toString(),materialId:e.materialId})})),d(!m)};return n.createElement("div",{className:"MaterialVideo"},n.createElement(to,{serverMap:e.servers,initialServer:M,autoplay:"true"===B,setAutoplay:function(t){F(t),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_video_player",{type:"Set autoplay",autoplay:t.toString(),materialId:e.materialId})})},handleBookmarkCreation:function(){r(Xe(!0))},handleToggleModal:U,subtitles:(null===(t=e.movin)||void 0===t?void 0:t.subtitles)||[],initialTime:E,initialVolume:parseFloat(x),initialPlaybackRate:V,onTimeUpdate:function(e,t){r({type:f,payload:e}),e>5?localStorage.setItem("player-time-".concat(window.location.pathname),e):localStorage.removeItem("player-time-".concat(window.location.pathname)),D(t>0?t:1)},onVolumeChange:A,onEnded:function(){localStorage.removeItem("player-time-".concat(window.location.pathname)),g(!0)},unsetBookmarkClicked:function(){},onServerChange:R,playerTime:I,sendEvent:function(e,t){(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF(e,t)})},togglePlay:C,isOrganizer:i,materialId:e.materialId,videoDuration:e.duration,freeAccess:l}),m&&n.createElement(wn,{close:U,timePaused:y,courseTitle:e.courseTitle}),v&&n.createElement(Nn,{cancelNextMaterial:function(){g(!1)},startNextMaterial:function(){l&&e.materialParams.isLast?window.location.href="/":window.location.href="".concat(e.materialParams.nextMaterialUrl)},nextMaterialName:e.materialParams.nextMaterialName,isLast:e.materialParams.isLast}))};ao.propTypes={player:K().shape({currentTime:K().number,autoplay:K().bool,defaultServer:K().string}),materialParams:K().shape({nextMaterialUrl:K().string,nextMaterialName:K().string,isLast:K().bool}),servers:K().object,movin:K().shape({subtitles:K().arrayOf(K().shape({kind:K().string,src:K().string,srclang:K().string,label:K().string}))}),courseTitle:K().string,duration:K().number,materialId:K().string},ao.defaultProps={player:{currentTime:0,autoplay:!0,defaultServer:"ServerC"},servers:{},subtitles:[],duration:0};var oo=function(e){return n.createElement("div",{className:"MaterialYoutube",dangerouslySetInnerHTML:{__html:e.iframes[0].iframe}})};oo.propTypes={iframes:K().string};var io=function(e){return n.createElement("div",{className:"MaterialLecture"},n.createElement("div",{className:"MaterialLecture-text",dangerouslySetInnerHTML:{__html:e.content}}))};io.propTypes={content:K().string},io.defaultProps={};const lo=r.p+"image/store_googleplay@2x-1ed596d294bfa087f26841656cec9669.png",co=r.p+"image/store_appstore@2x-b9b1e054f6e5df4b57e576d01c45cc66.png";var so=function(){var e=(0,me.$)().t;return n.createElement("div",{className:"MaterialAudio"},n.createElement("h2",null,e("materialView.materialAudio.text")),n.createElement("div",{className:"MaterialAudio-stores"},n.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.platzi.platzi",target:"_blank","aria-label":"play store download"},n.createElement("figure",null,n.createElement("img",{src:lo,alt:"Platzi on Google Play",loading:"lazy"}))),n.createElement("a",{href:"https://apple.co/2GJNMdY",target:"_blank","aria-label":"apple store download"},n.createElement("figure",null,n.createElement("img",{src:co,alt:"Platzi on Apple Store",loading:"lazy"})))))},uo=function(e){var t=(0,me.$)().t,r=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("commentsNumber")})),a=(0,c.useSelector)((function(e){return e.get("videoPlayer").get("discussionsNumber")})),o=(0,c.useSelector)((function(e){return e.get("community").get("isSuggestionsActive")})),i=he()("CommunityTabs",{isInstantAnswersActive:o});return n.createElement("div",{className:i},n.createElement(J.l8,{customClass:"CommunityTabs-content"},n.createElement(J.tJ,{key:"contributions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:t("materialView.communityTabs.comment",{quantity:r})}}),shouldShow:!0},n.createElement(nn,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,scrollRef:e.scrollRef})),n.createElement(J.tJ,{key:"questions",title:n.createElement("p",{dangerouslySetInnerHTML:{__html:t("materialView.communityTabs.discussion",{quantity:a})}}),shouldShow:!0},n.createElement(Kr,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,scrollRef:e.scrollRef}))))};uo.propTypes={courseSlug:K().string,materialId:K().string,materialSlug:K().string,commentsNumber:K().number,discussionsNumber:K().number,scrollRef:K().object},uo.defaultProps={};var mo=function(e){var t,r,a=(0,me.$)().t,o=(0,c.useDispatch)(),i=(0,c.useSelector)((function(e){return e.get("community").get("isSuggestionsActive")})),l=(0,c.useSelector)((function(e){return e.get("community").get("suggestions")})),s=(0,c.useSelector)((function(e){return e.get("community").get("questionForSuggestions")})),u=function(t){return function(){(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_instant_answers",{type:"Click",materialId:e.materialId,question:s,answerUrl:t})}),window.open(t,"_blank")}};return i?n.createElement(J.Zb,{isDark:!0,customClass:"InstantAnswers"},n.createElement("div",{className:"InstantAnswers-content"},n.createElement("button",{type:"button",onClick:function(){(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("material_view_instant_answers",{type:"Close",materialId:e.materialId,question:s})}),o(at(!1))},className:"InstantAnswers-close","aria-label":a("materialView.instantAnswers.close")},n.createElement(de.FontAwesomeIcon,{icon:fe.NBC})),(null===(t=l.discussions)||void 0===t?void 0:t.length)>0&&n.createElement("div",{className:"InstantAnswers-suggestions"},n.createElement("div",{className:"InstantAnswers-suggestions-title"},n.createElement("h4",null,a("materialView.instantAnswers.discussions"))),n.createElement("div",{className:"InstantAnswers-suggestions-content"},l.discussions.map((function(e,t){return n.createElement("button",{type:"button",key:"index-".concat(t),onClick:u(e.url),"aria-label":e.url},n.createElement("h5",null,e.title),n.createElement("div",{className:"InstantAnswers-suggestions-body",dangerouslySetInnerHTML:{__html:e.content}}))})))),(null===(r=l.contributions)||void 0===r?void 0:r.length)>0&&n.createElement("div",{className:"InstantAnswers-suggestions"},n.createElement("div",{className:"InstantAnswers-suggestions-title"},n.createElement("h4",null,a("materialView.instantAnswers.contributions"))),n.createElement("div",{className:"InstantAnswers-suggestions-content"},l.contributions.map((function(e,t){return n.createElement("button",{className:"--contribution",type:"button",key:"index-".concat(t),onClick:u(e.url),"aria-label":e.url},n.createElement("figure",{className:"InstantAnswers-suggestions-avatar"},n.createElement("img",{src:e.user.avatar,alt:e.user.username})),n.createElement("div",{className:"InstantAnswers-suggestions-text"},n.createElement("h6",null,e.user.username),n.createElement("div",{className:"InstantAnswers-suggestions-body",dangerouslySetInnerHTML:{__html:e.content}})))})))))):null};mo.propTypes={materialId:K().string};var fo=function(){var e=(0,c.useSelector)((function(e){return e.get("community").get("preview")})),t=(0,c.useDispatch)();if(""===e)return null;var r=function(){t(nt(""))};return n.createElement("div",{className:"ImagesPreview"},n.createElement("button",{"aria-label":"close preview",className:"ImagesPreview-overlay",onClick:r}),n.createElement("div",{className:"ImagesPreview-image"},n.createElement("button",{className:"ImagesPreview-close","aria-label":"close preview",onClick:r},n.createElement(de.FontAwesomeIcon,{icon:ye.Qj4})),n.createElement("figure",null,n.createElement("img",{src:e,alt:"Preview"}))))};function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ho=function(e){var t=(0,c.useSelector)((function(e){return e.get("header").get("platziDayEnabled")})),r=yo((0,n.useState)({}),2),a=r[0],o=r[1];return(0,n.useEffect)((function(){t&&xe(!0).get(te).then((function(e){return e.data})).then((function(e){return o(e)})).catch((function(e){throw new Error(e)}))}),[]),n.createElement(J.ko,po({isDark:!0},a))};function vo(){return(vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Eo=function(e){var t=(0,n.useRef)(null),r=go((0,n.useState)(!1),2),a=r[0],o=r[1],i=go((0,n.useState)(0),2),l=i[0],c=i[1],s=go((0,n.useState)("calc(100vh - ".concat(l,"px)")),2),u=s[0],m=s[1],d=go((0,n.useState)(void 0),2),f=d[0],p=d[1],y=(0,se.iP)(),b=y.width,h=y.height;(0,n.useEffect)((function(){if(b<ue.Zb)return m("none"),c(0),o(!0);v();var t=b<ue.qY?60:50,r=52+(e.hasNotification?t:0)+(e.hasPromo?54:0);c(r);var n="calc(100vh - ".concat(r,"px)");return b<ue.qY&&"video"===e.type&&(n="calc(100vh - ".concat(r,"px - (9 * 100vw / 16))")),m(n),o(!1)}),[b]),(0,n.useEffect)((function(){window.setTimeout((function(){null!=t&&t.current&&p(t.current)}),500)}),[t]),(0,n.useEffect)((function(){v()}),[h]);var v=function(){if("video"===e.type){var t="video-js";e.video.iframes.length>0&&(t="MaterialYoutube");var r=Math.round(.8*window.innerHeight),n=document.getElementsByClassName("MaterialView-video-item")[0],a=document.getElementsByClassName(t)[0];if(b>1440){var o=9*(window.innerWidth-492)/16,i=o>r?r:o;n.style.minHeight=i+"px",a.style.height=i+"px",a.style.paddingBottom=0}else n.style.minHeight="auto",a.style.height="0",a.style.paddingBottom="56.25%"}};return n.createElement(n.Fragment,null,n.createElement(fo,null),!a&&n.createElement(ln,{courseSlug:e.courseSlug,courseUrl:e.courseUrl,materialId:e.materialId,materialSlug:e.materialSlug,courseTitle:e.courseTitle,courseBadge:e.courseBadge,freeAccess:e.freeAccess,headerHeight:l}),n.createElement("div",{className:"MaterialView MaterialView-type--".concat(e.type),style:{maxHeight:a?"none":"calc(100vh - ".concat(l,"px)")}},n.createElement("div",{className:"MaterialView-video",style:{maxHeight:u}},"video"===e.type&&(e.video.iframes.length>0?n.createElement("div",{className:"MaterialView-video-item"},n.createElement(oo,e.video)):n.createElement("div",{className:"MaterialView-video-item"},n.createElement(ao,vo({courseTitle:e.courseTitle,materialParams:e.materialParams,duration:e.duration,materialId:e.materialId},e.video)))),n.createElement("div",{className:"MaterialView-content"},n.createElement("div",{className:"MaterialView-content-wrapper"},function(){switch(e.type){case"video":return n.createElement(n.Fragment,null,n.createElement(bn,vo({isMobile:a},e)),n.createElement(mn,vo({isMobile:a},e)));case"lecture":return n.createElement(n.Fragment,null,n.createElement(bn,vo({isMobile:a,materialType:e.type},e)),n.createElement(io,{content:e.content}),a&&n.createElement(mn,vo({isMobile:a},e)));case"audio":return n.createElement(n.Fragment,null,n.createElement(so,null),n.createElement(bn,vo({isMobile:a},e)));default:return null}}()))),n.createElement("div",{className:"MaterialView-community",style:{maxHeight:u}},n.createElement("div",{className:"MaterialView-community-wrapper",ref:t,style:{maxHeight:u}},n.createElement(ho,null),!a&&!e.freeAccess&&n.createElement("div",{className:"MaterialView-editor"},n.createElement(Cr,{id:"b453",materialId:e.materialId}),n.createElement(mo,{materialId:e.materialId})),n.createElement(uo,vo({},e,{scrollRef:f}))))))};Eo.propTypes={type:K().oneOf(["video","lecture","audio"]),video:K().object,courseTitle:K().string,materialParams:K().object,duration:K().number,content:K().string,commentsNumber:K().number,discussionsNumber:K().number,materialId:K().string,courseSlug:K().string,courseUrl:K().string,materialSlug:K().string,courseBadge:K().string,hasNotification:K().bool,hasPromo:K().bool,freeAccess:K().bool},Eo.defaultProps={type:"",video:{},hasNotification:!1,hasPromo:!1,freeAccess:!1};var ko=function(e){var t=(0,c.useSelector)((function(e){return e.get("header").get("isLogged")}));return(0,n.useEffect)((function(){e.freeAccess?document.cookie="freeAccess=true;path=/":document.cookie="freeAccess=false;path=/",document.cookie="isLogged=".concat(t,";path=/"),(0,W.clientRequest)(ce,{method:"post",requestURL:le,payload:W.payloadFactory.SIF("visited",{},!0)}),e.freeAccess&&!localStorage.getItem("materialSeen-".concat(e.materialId))&&localStorage.setItem("materialSeen-".concat(e.materialId),"True")}),[]),n.createElement(J.IE,{noFooter:!0,isDark:!0,noBanner:e.freeAccess},n.createElement(Eo,e))};ko.propTypes={materialId:K().oneOfType([K().string,K().number]),freeAccess:K().bool},ko.defaultProps={freeAccess:!1};const So=ko;function Io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return No(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jo="confirm-email",Co="open-class",To=function(e){var t=(0,me.$)().t,r=(0,c.useSelector)((function(e){return e.get("header").get("userInfo").toJS()}),c.shallowEqual),a=r.email,o=r.userId,i=Io((0,n.useState)(!1),2),l=i[0],s=i[1],u=e.blockedInfo,m=u.type,d=u.buyUrl,f=u.exclusive,p=he()("Blocked-button",{sent:l});return n.createElement("div",{className:"Blocked"},n.createElement("div",{className:"u-wrapper"},n.createElement("p",{className:"Blocked-subtitle"},n.createElement(de.FontAwesomeIcon,{icon:fe.byT}),t(m===Co?"materialView.blocked.messageOpenClass":"materialView.blocked.message")),n.createElement("p",{className:"Blocked-title"},t("materialView.blocked.title-".concat(m),{plan:f})),m===jo&&n.createElement(n.Fragment,null,n.createElement("h2",{dangerouslySetInnerHTML:{__html:t("materialView.blocked.subtitle",{email:a})}}),n.createElement("button",{className:p,onClick:function(){var e;(e={email:a,user_id:o},xe(!0).post(Se.onboarding.resendEmail,e)).then(),s(!0)}},t("materialView.blocked.cta-".concat(m)))),n.createElement("div",{className:"Blocked-links"},m!==jo&&"b2b"!==m&&n.createElement("a",{className:"Blocked-link",href:t("materialView.blocked.ctaLink-".concat(m),{next:e.classUrl,link:d})},t("materialView.blocked.cta-".concat(m))),"unlogged"===m||m===Co&&n.createElement("a",{className:"Blocked-link Blocked-link--secondary",href:t("materialView.blocked.ctaLink2-".concat(m),{next:e.classUrl})},t("materialView.blocked.cta2-".concat(m))))))};To.propTypes={blockedInfo:K().shape({type:K().string,buyUrl:K().string,exclusive:K().string}),classUrl:K().string},To.defaultProps={type:"free",buyUrl:"/precios"};var Oo=function(e){var t=(0,me.$)().t;return n.createElement(n.Fragment,null,n.createElement("div",{className:"Header material-".concat(e.materialType)},n.createElement("div",{className:"Header-course"},n.createElement("div",{className:"Header-course-info"},n.createElement("img",{className:"Header-course-info-badge",src:e.courseBadge,alt:e.courseTitle,loading:"lazy"}),n.createElement("div",{className:"Header-course-info-content"},n.createElement("a",{href:e.courseUrl},n.createElement("p",null,e.courseTitle)),n.createElement("img",{src:e.teacherAvatar,alt:e.teacherName,loading:"lazy"}),n.createElement("p",{className:"Header-teacher"},e.teacherName)))),n.createElement("div",{className:"Header-class"},n.createElement("div",{className:"Header-class-title"},n.createElement("h1",null,e.name),n.createElement("span",null,e.materialParams.actualMaterial,"/",e.materialParams.totalMaterial))),"lecture"===e.materialType&&n.createElement("div",{className:"Header-lecture"},n.createElement(de.FontAwesomeIcon,{icon:ye.cwv}),n.createElement("p",null,t("materialView.header.materialLecture")))),"lecture"!==e.materialType&&n.createElement("div",{className:"Header-description Header-description-".concat(e.materialType),dangerouslySetInnerHTML:{__html:e.content}}))};Oo.propTypes={courseTitle:K().string,courseUrl:K().string,courseBadge:K().string,teacherAvatar:K().string,teacherName:K().string,name:K().string,materialParams:K().shape({totalMaterial:K().number,actualMaterial:K().number}),materialType:K().oneOf(["video","lecture","audio"]),content:K().string},Oo.defaultProps={materialParams:{actualMaterial:1,totalMaterial:1}};var xo=function(e){var t=e.content,r=t.author,a=t.content,o=he()("Content",{"Content--main":!e.secondLevel,"Content--secondary":e.secondLevel,"Content--last":e.lastItem,"Content--noBorder":e.noBorder});return r?n.createElement("div",{className:o},n.createElement("div",{className:"Content-author"},n.createElement("figure",{className:"Content-author-avatar"},n.createElement("img",{src:r.avatar,alt:r.name,loading:"lazy"})),n.createElement("div",null,n.createElement("p",{className:"Content-author-name"},r.name),"Estudiante"!==r.role&&n.createElement("p",{className:"Content-author-role"},r.role,n.createElement("span",{className:"Content-point"})))),n.createElement("div",{className:"Content-body"},n.createElement("div",{className:"Content-body-like"},n.createElement(Rr,{toggleLike:function(){},numberOfLikes:e.content.nLikes,liked:!1})),n.createElement("div",null,n.createElement("div",{className:"ContentMardown-text Content-body-text",dangerouslySetInnerHTML:{__html:a}})))):null};xo.propTypes={content:K().shape({timestamp:K().string,author:K().shape({avatar:K().string,name:K().string,role:K().string}),content:K().string,nLikes:K().number,id:K().number}),secondLevel:K().bool,lastItem:K().bool,noBorder:K().bool,index:K().number,parentIndex:K().number,detailUrl:K().string},xo.defaultProps={parentIndex:void 0};var Ao=function(e){var t=e.cards,r=t.subcards,a=t.detailUrl;return n.createElement(J.Zb,{isDark:!0,customClass:"CommunityCard"},n.createElement(xo,{index:e.index,content:e.cards,noBorder:r&&r.length<=0,detailUrl:a}),r.map((function(t,o){return n.createElement(xo,{secondLevel:!0,index:o,parentIndex:e.index,lastItem:o===r.length-1,content:t,key:"content-".concat(t.id),detailUrl:a})})))};function Po(){return(Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ao.propTypes={cards:K().shape({id:K().number,subcards:K().array,nSubcards:K().number,detailUrl:K().string}),index:K().number},Ao.defaultProps={cards:{}};var _o=function(e){var t=Mo((0,n.useState)(!1),2),r=t[0],a=t[1],o=(0,se.iP)().width;(0,n.useEffect)((function(){return o<ue.Zb?a(!0):a(!1)}),[o]);var i=function(){return e.contributions.map((function(e,t){return n.createElement(Ao,{key:t,index:t,cards:e})}))};return n.createElement(n.Fragment,null,n.createElement("div",{className:"MaterialBlocked MaterialBlocked-type--".concat(e.type)},n.createElement("div",{className:"MaterialBlocked-video"},"video"===e.type&&n.createElement("div",{className:"MaterialBlocked-video-item"},"lecture"!==e.type&&n.createElement(To,e)),n.createElement("div",{className:"MaterialBlocked-content"},n.createElement("div",{className:"MaterialBlocked-content-wrapper"},function(){switch(e.type){case"video":return n.createElement(n.Fragment,null,n.createElement(Oo,Po({isMobile:r},e)),n.createElement("div",{className:"MaterialBlocked-video-tabs"},i()));case"lecture":return n.createElement(n.Fragment,null,n.createElement(Oo,Po({isMobile:r,materialType:e.type},e)),n.createElement(io,{content:e.content}),r&&n.createElement("div",{className:"MaterialBlocked-video-tabs"},i()));case"audio":return n.createElement(n.Fragment,null,n.createElement(so,null),n.createElement(Oo,Po({isMobile:r},e)));default:return null}}()))),n.createElement("div",{className:"MaterialBlocked-community"},n.createElement("div",{className:"MaterialBlocked-community-wrapper"},i())),n.createElement(ln,{courseSlug:e.courseSlug,materialId:e.materialId,materialSlug:e.materialSlug,courseTitle:e.courseTitle,courseBadge:e.courseBadge,isMobile:r,freeAccess:!0,headerHeight:0})))};_o.propTypes={type:K().oneOf(["video","lecture","audio"]),courseTitle:K().string,content:K().string,materialId:K().string,courseSlug:K().string,courseUrl:K().string,materialSlug:K().string,courseBadge:K().string,contributions:K().array},_o.defaultProps={type:"video",contributions:[]};var Bo=function(e){return n.createElement(J.IE,{noFooter:!0,isDark:!0},n.createElement(_o,e))};Bo.propTypes={blockedInfo:K().shape({blocked:K().bool,type:K().string,exclusive:K().string,buyUrl:K().string})};const Fo=Bo;var Lo=r(18620),Vo=r(39666),Do=r(34155),Uo=Do.env.SENTRY_CODE;const qo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"undefined"!=typeof window&&(Lo.S1({dsn:Uo,beforeSend:function(e){return e.message&&e.message.startsWith("ReportingObserver")&&e.extra.body&&e.extra.body.sourceFile&&e.extra.body.sourceFile.startsWith("chrome-extension")?null:e}}),e&&Vo.e((function(t){t.setUser({id:e.userId,username:e.username,email:e.email})})))};var zo,Ho,$o=window.__PRELOADED_STATE__,Ko=window.translations,Jo=window.initialProps;qo(!!$o.header.userInfo.userId&&$o.header.userInfo),Ho=o.compose;var Wo=(0,o.createStore)(H,(0,i.fromJS)($o),Ho((0,o.applyMiddleware)(l.Z)));u.services.translations.translationsConfig(Ko),u.utils.removeInjections(),(0,a.hydrate)(n.createElement(s.SV,null,n.createElement(c.Provider,{store:Wo},null!==(zo=Jo.blockedInfo)&&void 0!==zo&&zo.blocked?n.createElement(Fo,Jo):n.createElement(So,Jo))),document.getElementById("material-view"))},46700:(e,t,r)=>{var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=46700},25893:()=>{},65586:()=>{}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(s=0;s<e.length;s++){for(var[r,a,o]=e[s],l=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(l=!1,o<i&&(i=o));l&&(e.splice(s--,1),t=a())}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=293,n.p="https://static.platzi.com/mf-classes/",(()=>{var e={293:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,c]=r,s=0;for(a in l)n.o(l,a)&&(n.m[a]=l[a]);for(c&&c(n),t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[i[s]]=0;n.O()},r=self.webpackChunkmf_classes=self.webpackChunkmf_classes||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[67,351,216],(()=>n(40675)));a=n.O(a)})();